exports.ids=[1],exports.modules=[,,,,,,,,,,function(e,t,n){e.exports=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let n;function i(...e){if(!i.enabled)return;const t=i,o=Number(new Date),s=o-(n||o);t.diff=s,t.prev=n,t.curr=o,n=o,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let c=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,o)=>{if("%%"===n)return n;c++;const s=r.formatters[o];if("function"==typeof s){const r=e[c];n=s.call(t,r),e.splice(c,1),c--}return n}),r.formatArgs.call(t,e),(t.log||r.log).apply(t,e)}return i.namespace=e,i.enabled=r.enabled(e),i.useColors=r.useColors(),i.color=t(e),i.destroy=o,i.extend=s,"function"==typeof r.init&&r.init(i),r.instances.push(i),i}function o(){const e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function s(e,t){const n=r(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){const e=[...r.names.map(i),...r.skips.map(i).map(e=>"-"+e)].join(",");return r.enable(""),e},r.enable=function(e){let t;r.save(e),r.names=[],r.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(t=0;t<o;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){const e=r.instances[t];e.enabled=r.enabled(e.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(30),Object.keys(e).forEach(t=>{r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},,,,,,,,,function(e,t,n){var r=n(20),o=n(21),s=n(8),i=n(22),c=n(23),u=n(9).inherits,a=n(28)("https-proxy-agent");function l(e){if(!(this instanceof l))return new l(e);if("string"==typeof e&&(e=s.parse(e)),!e)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");a("creating new HttpsProxyAgent instance: %o",e),c.call(this,e);var t=Object.assign({},e);this.secureProxy=!!t.protocol&&/^https:?$/i.test(t.protocol),t.host=t.hostname||t.host,t.port=+t.port||(this.secureProxy?443:80),!this.secureProxy||"ALPNProtocols"in t||(t.ALPNProtocols=["http 1.1"]),t.host&&t.path&&(delete t.path,delete t.pathname),this.proxy=t}function f(e){e.resume()}e.exports=l,u(l,c),l.prototype.callback=function(e,t,n){var s,c=this.proxy;s=this.secureProxy?o.connect(c):r.connect(c);var u=[],l=0;function p(){var i=s.read();i?function(i){u.push(i),l+=i.length;var c=Buffer.concat(u,l),d=c.toString("ascii");if(!~d.indexOf("\r\n\r\n"))return a("have not received end of HTTP headers yet..."),void p();var m=d.substring(0,d.indexOf("\r\n")),C=+m.split(" ")[1];if(a("got proxy server response: %o",m),200==C){var g=s;u=c=null,t.secureEndpoint&&(a("upgrading proxy-connected socket to TLS connection: %o",t.host),t.socket=s,t.servername=t.servername||t.host,t.host=null,t.hostname=null,t.port=null,g=o.connect(t)),h(),e.once("socket",f),n(null,g)}else h(),s.destroy(),(s=new r.Socket).readable=!0,u=c,e.once("socket",v),n(null,s)}(i):s.once("readable",p)}function h(){s.removeListener("end",m),s.removeListener("error",C),s.removeListener("close",d),s.removeListener("readable",p)}function d(e){a("onclose had error %o",e)}function m(){a("onend")}function C(e){h(),n(e)}function v(e){a("replaying proxy buffer for failed request"),i(e.listenerCount("data")>0),e.push(u),u=null}s.on("error",C),s.on("close",d),s.on("end",m),p();var g="CONNECT "+(t.host+":"+t.port)+" HTTP/1.1\r\n",y=Object.assign({},c.headers);c.auth&&(y["Proxy-Authorization"]="Basic "+Buffer.from(c.auth).toString("base64"));var b,w,_=t.host;b=t.port,w=t.secureEndpoint,Boolean(!w&&80===b||w&&443===b)||(_+=":"+t.port),y.Host=_,y.Connection="close",Object.keys(y).forEach(function(e){g+=e+": "+y[e]+"\r\n"}),s.write(g+"\r\n")}},,,,function(e,t,n){"use strict";const r=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(n(24)),o=n(27);function s(){const{stack:e}=new Error;return"string"==typeof e&&e.split("\n").some(e=>-1!==e.indexOf("(https.js:"))}function i(e,t){return new i.Agent(e,t)}!function(e){e.Agent=class extends o.EventEmitter{constructor(e,t){super(),this._promisifiedCallback=void 0;let n=t;"function"==typeof e?this.callback=e:e&&(n=e),this.timeout=null,n&&"number"==typeof n.timeout&&(this.timeout=n.timeout),this.options=n||{},this.maxFreeSockets=1,this.maxSockets=1,this.sockets=[],this.requests=[]}get defaultPort(){return"number"==typeof this._defaultPort?this._defaultPort:s()?443:80}set defaultPort(e){this._defaultPort=e}callback(e,t,n){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(e,t){const n=Object.assign(Object.assign({},t),{secureEndpoint:s()});null==n.host&&(n.host="localhost"),null==n.port&&(n.port=n.secureEndpoint?443:80);const o=Object.assign(Object.assign({},this.options),n);o.host&&o.path&&delete o.path,delete o.agent,delete o.hostname,delete o._defaultAgent,delete o.defaultPort,delete o.createConnection,e._last=!0,e.shouldKeepAlive=!1;let i=!1,c=null;const u=this.timeout,a=this.freeSocket;function l(t){e._hadError||(e.emit("error",t),e._hadError=!0)}function f(e){i||(null!==c&&(clearTimeout(c),c=null),l(e))}if("function"==typeof this.callback){this._promisifiedCallback||(this.callback.length>=3?this._promisifiedCallback=r.default(this.callback,{thisArg:this}):this._promisifiedCallback=this.callback),"number"==typeof u&&u>0&&(c=setTimeout(function(){c=null,i=!0;const e=new Error(`A "socket" was not created for HTTP request before ${u}ms`);e.code="ETIMEOUT",l(e)},u)),"port"in o&&"number"!=typeof o.port&&(o.port=Number(o.port));try{Promise.resolve(this._promisifiedCallback(e,o)).then(function(t){let n;if(!i){var r;if(null!=c&&(clearTimeout(c),c=null),r=t,!(Boolean(r)&&"function"==typeof r.addRequest||function(e){return Boolean(e)&&"function"==typeof e.addRequest}(t)))return t?((n=t).on("free",function(){a(n,o)}),void e.onSocket(n)):void l(new Error(`no Duplex stream was returned to agent-base for \`${e.method} ${e.path}\``));t.addRequest(e,o)}},f)}catch(e){Promise.reject(e).catch(f)}}else l(new Error("`callback` is not defined"))}freeSocket(e,t){e.destroy()}destroy(){}}}(i||(i={})),i.prototype=i.Agent.prototype,e.exports=i},function(e,t,n){"use strict";e.exports=function(){var e=n(25);function t(e){return e&&"function"==typeof e.then&&"function"==typeof e.catch}return function(n,r){return function(){for(var o=arguments.length,s=Array(o),i=0;i<o;i++)s[i]=arguments[i];var c=r&&r.multiArgs,u=void 0;return r&&r.thisArg?u=r.thisArg:r&&(u=r),new e(function(e,r){s.push(function(t){if(t)return r(t);for(var n=arguments.length,o=Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];if(!1==!!c)return e(o[0]);e(o)});var o=n.apply(u,s);t(o)&&e(o)})}}}()},function(e,t,n){"use strict";var r;e.exports=(r=void 0,r=void 0!==global?global:void 0!==window&&window.document?window:self,function(){if(!r.hasOwnProperty("Promise"))return!1;var e,t=r.Promise;return!!(t.hasOwnProperty("resolve")&&t.hasOwnProperty("reject")&&t.hasOwnProperty("all")&&t.hasOwnProperty("race")&&(e=void 0,new r.Promise(function(t){e=t})&&"function"==typeof e))}()?r.Promise:n(26).Promise)},function(e,t,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var r;r=function(){"use strict";function e(e){return"function"==typeof e}var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=0,r=void 0,o=void 0,s=function(e,t){p[n]=e,p[n+1]=t,2===(n+=2)&&(o?o(h):g())},i="undefined"!=typeof window?window:void 0,c=i||{},u=c.MutationObserver||c.WebKitMutationObserver,a="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),l="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){var e=setTimeout;return function(){return e(h,1)}}var p=new Array(1e3);function h(){for(var e=0;e<n;e+=2){(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0}n=0}var d,m,C,v,g=void 0;function y(e,t){var n=this,r=new this.constructor(_);void 0===r[w]&&L(r);var o=n._state;if(o){var i=arguments[o-1];s(function(){return M(o,r,i,n._result)})}else T(n,r,e,t);return r}function b(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(_);return x(t,e),t}a?g=function(){return process.nextTick(h)}:u?(m=0,C=new u(h),v=document.createTextNode(""),C.observe(v,{characterData:!0}),g=function(){v.data=m=++m%2}):l?((d=new MessageChannel).port1.onmessage=h,g=function(){return d.port2.postMessage(0)}):g=void 0===i?function(){try{var e=Function("return this")().require("vertx");return void 0!==(r=e.runOnLoop||e.runOnContext)?function(){r(h)}:f()}catch(e){return f()}}():f();var w=Math.random().toString(36).substring(2);function _(){}var F=void 0,O=1,E=2;function A(t,n,r){n.constructor===t.constructor&&r===y&&n.constructor.resolve===b?function(e,t){t._state===O?P(e,t._result):t._state===E?R(e,t._result):T(t,void 0,function(t){return x(e,t)},function(t){return R(e,t)})}(t,n):void 0===r?P(t,n):e(r)?function(e,t,n){s(function(e){var r=!1,o=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,function(n){r||(r=!0,t!==n?x(e,n):P(e,n))},function(t){r||(r=!0,R(e,t))},e._label);!r&&o&&(r=!0,R(e,o))},e)}(t,n,r):P(t,n)}function x(e,t){if(e===t)R(e,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(r=t),null===r||"object"!==o&&"function"!==o)P(e,t);else{var n=void 0;try{n=t.then}catch(t){return void R(e,t)}A(e,t,n)}var r,o}function k(e){e._onerror&&e._onerror(e._result),S(e)}function P(e,t){e._state===F&&(e._result=t,e._state=O,0!==e._subscribers.length&&s(S,e))}function R(e,t){e._state===F&&(e._state=E,e._result=t,s(k,e))}function T(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+O]=n,o[i+E]=r,0===i&&e._state&&s(S,e)}function S(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,s=e._result,i=0;i<t.length;i+=3)r=t[i],o=t[i+n],r?M(n,r,o,s):o(s);e._subscribers.length=0}}function M(t,n,r,o){var s=e(r),i=void 0,c=void 0,u=!0;if(s){try{i=r(o)}catch(e){u=!1,c=e}if(n===i)return void R(n,new TypeError("A promises callback cannot return that same promise."))}else i=o;n._state!==F||(s&&u?x(n,i):!1===u?R(n,c):t===O?P(n,i):t===E&&R(n,i))}var j=0;function L(e){e[w]=j++,e._state=void 0,e._result=void 0,e._subscribers=[]}var I=function(){function e(e,n){this._instanceConstructor=e,this.promise=new e(_),this.promise[w]||L(this.promise),t(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?P(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&P(this.promise,this._result))):R(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===F&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===b){var o=void 0,s=void 0,i=!1;try{o=e.then}catch(e){i=!0,s=e}if(o===y&&e._state!==F)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===N){var c=new n(_);i?R(c,s):A(c,e,o),this._willSettleAt(c,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===F&&(this._remaining--,e===E?R(r,n):this._result[t]=n),0===this._remaining&&P(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;T(e,void 0,function(e){return n._settledAt(O,t,e)},function(e){return n._settledAt(E,t,e)})},e}(),N=function(){function t(e){this[w]=j++,this._result=this._state=void 0,this._subscribers=[],_!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t(function(t){x(e,t)},function(t){R(e,t)})}catch(t){R(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return N.prototype.then=y,N.all=function(e){return new I(this,e).promise},N.race=function(e){var n=this;return t(e)?new n(function(t,r){for(var o=e.length,s=0;s<o;s++)n.resolve(e[s]).then(t,r)}):new n(function(e,t){return t(new TypeError("You must pass an array to race."))})},N.resolve=b,N.reject=function(e){var t=new this(_);return R(t,e),t},N._setScheduler=function(e){o=e},N._setAsap=function(e){s=e},N._asap=s,N.polyfill=function(){var e=void 0;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=N},N.Promise=N,N},e.exports=r()},,function(e,t,n){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=n(29):e.exports=n(31)},function(e,t,n){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))}),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(10)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t){var n=1e3,r=60*n,o=60*r,s=24*o,i=7*s,c=365.25*s;function u(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var u=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*c;case"weeks":case"week":case"w":return u*i;case"days":case"day":case"d":return u*s;case"hours":case"hour":case"hrs":case"hr":case"h":return u*o;case"minutes":case"minute":case"mins":case"min":case"m":return u*r;case"seconds":case"second":case"secs":case"sec":case"s":return u*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}(e);if("number"===a&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=s)return u(e,t,s,"day");if(t>=o)return u(e,t,o,"hour");if(t>=r)return u(e,t,r,"minute");if(t>=n)return u(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=s)return Math.round(e/s)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){const r=n(32),o=n(9);t.init=function(e){e.inspectOpts={};const n=Object.keys(t.inspectOpts);for(let r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(...e){return process.stderr.write(o.format(...e)+"\n")},t.formatArgs=function(n){const{namespace:r,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),s=`  ${o};1m${r} [0m`;n[0]=s+n[0].split("\n").join("\n"+s),n.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else n[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+r+" "+n[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{const e=n(33);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e},{}),e.exports=n(10)(t);const{formatters:s}=e.exports;s.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")},s.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},,function(e,t,n){"use strict";const r=n(34),o=n(35),{env:s}=process;let i;function c(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(0===i)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(e&&!e.isTTY&&void 0===i)return 0;const t=i||0;if("dumb"===s.TERM)return t;if("win32"===process.platform){const e=r.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in s)||"codeship"===s.CI_NAME?1:t;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if("truecolor"===s.COLORTERM)return 3;if("TERM_PROGRAM"in s){const e=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)?1:"COLORTERM"in s?1:t}(e))}o("no-color")||o("no-colors")||o("color=false")||o("color=never")?i=0:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(i=1),"FORCE_COLOR"in s&&(i=!0===s.FORCE_COLOR||"true"===s.FORCE_COLOR?1:!1===s.FORCE_COLOR||"false"===s.FORCE_COLOR?0:0===s.FORCE_COLOR.length?1:Math.min(parseInt(s.FORCE_COLOR,10),3)),e.exports={supportsColor:c,stdout:c(process.stdout),stderr:c(process.stderr)}},,function(e,t,n){"use strict";e.exports=(e,t)=>{t=t||process.argv;const n=e.startsWith("-")?"":1===e.length?"-":"--",r=t.indexOf(n+e),o=t.indexOf("--");return-1!==r&&(-1===o||r<o)}}];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BZHllblRlcm1pbmFsQXBpLy4vbm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9jb21tb24uanMiLCJ3ZWJwYWNrOi8vQWR5ZW5UZXJtaW5hbEFwaS8uL25vZGVfbW9kdWxlcy9odHRwcy1wcm94eS1hZ2VudC9pbmRleC5qcyIsIndlYnBhY2s6Ly9BZHllblRlcm1pbmFsQXBpLy4vbm9kZV9tb2R1bGVzL2FnZW50LWJhc2UvZGlzdC9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vQWR5ZW5UZXJtaW5hbEFwaS8uL25vZGVfbW9kdWxlcy9lczYtcHJvbWlzaWZ5L2Rpc3QvcHJvbWlzaWZ5LmpzIiwid2VicGFjazovL0FkeWVuVGVybWluYWxBcGkvLi9ub2RlX21vZHVsZXMvZXM2LXByb21pc2lmeS9kaXN0L3Byb21pc2UuanMiLCJ3ZWJwYWNrOi8vQWR5ZW5UZXJtaW5hbEFwaS8uL25vZGVfbW9kdWxlcy9lczYtcHJvbWlzZS9kaXN0L2VzNi1wcm9taXNlLmpzIiwid2VicGFjazovL0FkeWVuVGVybWluYWxBcGkvLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2luZGV4LmpzIiwid2VicGFjazovL0FkeWVuVGVybWluYWxBcGkvLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vQWR5ZW5UZXJtaW5hbEFwaS8uL25vZGVfbW9kdWxlcy9tcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9BZHllblRlcm1pbmFsQXBpLy4vbm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9ub2RlLmpzIiwid2VicGFjazovL0FkeWVuVGVybWluYWxBcGkvLi9ub2RlX21vZHVsZXMvc3VwcG9ydHMtY29sb3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vQWR5ZW5UZXJtaW5hbEFwaS8uL25vZGVfbW9kdWxlcy9oYXMtZmxhZy9pbmRleC5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiZW52Iiwic2VsZWN0Q29sb3IiLCJuYW1lc3BhY2UiLCJoYXNoIiwiaSIsImxlbmd0aCIsImNoYXJDb2RlQXQiLCJjcmVhdGVEZWJ1ZyIsImNvbG9ycyIsIk1hdGgiLCJhYnMiLCJwcmV2VGltZSIsImRlYnVnIiwiYXJncyIsImVuYWJsZWQiLCJzZWxmIiwiY3VyciIsIk51bWJlciIsIkRhdGUiLCJtcyIsImRpZmYiLCJwcmV2IiwiY29lcmNlIiwidW5zaGlmdCIsImluZGV4IiwicmVwbGFjZSIsIm1hdGNoIiwiZm9ybWF0IiwiZm9ybWF0dGVyIiwiZm9ybWF0dGVycyIsInZhbCIsImNhbGwiLCJzcGxpY2UiLCJmb3JtYXRBcmdzIiwibG9nIiwiYXBwbHkiLCJ1c2VDb2xvcnMiLCJjb2xvciIsImRlc3Ryb3kiLCJleHRlbmQiLCJpbml0IiwiaW5zdGFuY2VzIiwicHVzaCIsImluZGV4T2YiLCJ0aGlzIiwiZGVsaW1pdGVyIiwibmV3RGVidWciLCJ0b05hbWVzcGFjZSIsInJlZ2V4cCIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwiZGVmYXVsdCIsIkVycm9yIiwic3RhY2siLCJtZXNzYWdlIiwiZGlzYWJsZSIsIm5hbWVzcGFjZXMiLCJuYW1lcyIsIm1hcCIsInNraXBzIiwiam9pbiIsImVuYWJsZSIsInNhdmUiLCJzcGxpdCIsImxlbiIsIlJlZ0V4cCIsInN1YnN0ciIsImluc3RhbmNlIiwibmFtZSIsInRlc3QiLCJodW1hbml6ZSIsIl9fd2VicGFja19yZXF1aXJlX18iLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsImxvYWQiLCJuZXQiLCJ0bHMiLCJ1cmwiLCJhc3NlcnQiLCJBZ2VudCIsImluaGVyaXRzIiwiSHR0cHNQcm94eUFnZW50Iiwib3B0cyIsInBhcnNlIiwicHJveHkiLCJhc3NpZ24iLCJzZWN1cmVQcm94eSIsInByb3RvY29sIiwiaG9zdCIsImhvc3RuYW1lIiwicG9ydCIsIkFMUE5Qcm90b2NvbHMiLCJwYXRoIiwicGF0aG5hbWUiLCJyZXN1bWUiLCJzb2NrZXQiLCJwcm90b3R5cGUiLCJjYWxsYmFjayIsInJlcSIsImZuIiwiY29ubmVjdCIsImJ1ZmZlcnMiLCJidWZmZXJzTGVuZ3RoIiwicmVhZCIsImIiLCJidWZmZXJlZCIsIkJ1ZmZlciIsImNvbmNhdCIsInN0ciIsImZpcnN0TGluZSIsInN0YXR1c0NvZGUiLCJzb2NrIiwic2VjdXJlRW5kcG9pbnQiLCJzZXJ2ZXJuYW1lIiwiY2xlYW51cCIsIm9uY2UiLCJTb2NrZXQiLCJyZWFkYWJsZSIsIm9uc29ja2V0Iiwib25kYXRhIiwicmVtb3ZlTGlzdGVuZXIiLCJvbmVuZCIsIm9uZXJyb3IiLCJvbmNsb3NlIiwiZXJyIiwibGlzdGVuZXJDb3VudCIsIm9uIiwibXNnIiwiaGVhZGVycyIsImF1dGgiLCJmcm9tIiwic2VjdXJlIiwiQm9vbGVhbiIsIndyaXRlIiwiZXM2X3Byb21pc2lmeV8xIiwiX19pbXBvcnREZWZhdWx0IiwibW9kIiwiX19lc01vZHVsZSIsImV2ZW50c18xIiwiaXNTZWN1cmVFbmRwb2ludCIsInNvbWUiLCJsIiwiY3JlYXRlQWdlbnQiLCJFdmVudEVtaXR0ZXIiLCJbb2JqZWN0IE9iamVjdF0iLCJfb3B0cyIsInN1cGVyIiwiX3Byb21pc2lmaWVkQ2FsbGJhY2siLCJ1bmRlZmluZWQiLCJ0aW1lb3V0Iiwib3B0aW9ucyIsIm1heEZyZWVTb2NrZXRzIiwibWF4U29ja2V0cyIsInNvY2tldHMiLCJyZXF1ZXN0cyIsImRlZmF1bHRQb3J0IiwiX2RlZmF1bHRQb3J0IiwidiIsIm93bk9wdHMiLCJhZ2VudCIsIl9kZWZhdWx0QWdlbnQiLCJjcmVhdGVDb25uZWN0aW9uIiwiX2xhc3QiLCJzaG91bGRLZWVwQWxpdmUiLCJ0aW1lZE91dCIsInRpbWVvdXRNcyIsImZyZWVTb2NrZXQiLCJfaGFkRXJyb3IiLCJlbWl0IiwiY2FsbGJhY2tFcnJvciIsImNsZWFyVGltZW91dCIsInRoaXNBcmciLCJzZXRUaW1lb3V0IiwiY29kZSIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsImFkZFJlcXVlc3QiLCJpc0h0dHBBZ2VudCIsIm9uU29ja2V0IiwibWV0aG9kIiwicmVqZWN0IiwiY2F0Y2giLCJFUzZQcm9taXNlIiwidGhhdExvb2tzTGlrZUFQcm9taXNlVG9NZSIsIm8iLCJvcmlnaW5hbCIsInNldHRpbmdzIiwiX2xlbiIsImFyZ3VtZW50cyIsIkFycmF5IiwiX2tleSIsInJldHVybk11bHRpcGxlQXJndW1lbnRzIiwibXVsdGlBcmdzIiwidGFyZ2V0IiwiX2xlbjIiLCJ2YWx1ZXMiLCJfa2V5MiIsInJlc3BvbnNlIiwiZ2xvYmFsT2JqZWN0IiwiZ2xvYmFsIiwid2luZG93IiwiZG9jdW1lbnQiLCJoYXNPd25Qcm9wZXJ0eSIsIlAiLCJyIiwiZmFjdG9yeSIsImlzRnVuY3Rpb24iLCJ4IiwiaXNBcnJheSIsInZlcnR4TmV4dCIsImN1c3RvbVNjaGVkdWxlckZuIiwiYXNhcCIsImFyZyIsInF1ZXVlIiwiZmx1c2giLCJzY2hlZHVsZUZsdXNoIiwiYnJvd3NlcldpbmRvdyIsImJyb3dzZXJHbG9iYWwiLCJCcm93c2VyTXV0YXRpb25PYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJXZWJLaXRNdXRhdGlvbk9ic2VydmVyIiwiaXNOb2RlIiwicHJvY2VzcyIsImlzV29ya2VyIiwiVWludDhDbGFtcGVkQXJyYXkiLCJpbXBvcnRTY3JpcHRzIiwiTWVzc2FnZUNoYW5uZWwiLCJ1c2VTZXRUaW1lb3V0IiwiZ2xvYmFsU2V0VGltZW91dCIsImNoYW5uZWwiLCJpdGVyYXRpb25zIiwib2JzZXJ2ZXIiLCJub2RlIiwib25GdWxmaWxsbWVudCIsIm9uUmVqZWN0aW9uIiwicGFyZW50IiwiY2hpbGQiLCJjb25zdHJ1Y3RvciIsIm5vb3AiLCJQUk9NSVNFX0lEIiwibWFrZVByb21pc2UiLCJfc3RhdGUiLCJpbnZva2VDYWxsYmFjayIsIl9yZXN1bHQiLCJzdWJzY3JpYmUiLCJyZXNvbHZlJDEiLCJvYmplY3QiLCJwcm9taXNlIiwibmV4dFRpY2siLCJjcmVhdGVUZXh0Tm9kZSIsIm9ic2VydmUiLCJjaGFyYWN0ZXJEYXRhIiwiZGF0YSIsInBvcnQxIiwib25tZXNzYWdlIiwicG9ydDIiLCJwb3N0TWVzc2FnZSIsInZlcnR4IiwiRnVuY3Rpb24iLCJyZXF1aXJlIiwicnVuT25Mb29wIiwicnVuT25Db250ZXh0IiwiZSIsImF0dGVtcHRWZXJ0eCIsInJhbmRvbSIsIlBFTkRJTkciLCJGVUxGSUxMRUQiLCJSRUpFQ1RFRCIsImhhbmRsZU1heWJlVGhlbmFibGUiLCJtYXliZVRoZW5hYmxlIiwidGhlbiQkMSIsInRoZW5hYmxlIiwiZnVsZmlsbCIsInZhbHVlIiwicmVhc29uIiwiaGFuZGxlT3duVGhlbmFibGUiLCJzZWFsZWQiLCJlcnJvciIsImZ1bGZpbGxtZW50SGFuZGxlciIsInJlamVjdGlvbkhhbmRsZXIiLCJ0cnlUaGVuIiwiX2xhYmVsIiwiaGFuZGxlRm9yZWlnblRoZW5hYmxlIiwiVHlwZUVycm9yIiwidHlwZSIsInB1Ymxpc2hSZWplY3Rpb24iLCJfb25lcnJvciIsInB1Ymxpc2giLCJfc3Vic2NyaWJlcnMiLCJzdWJzY3JpYmVycyIsInNldHRsZWQiLCJkZXRhaWwiLCJoYXNDYWxsYmFjayIsInN1Y2NlZWRlZCIsImlkIiwiRW51bWVyYXRvciIsIkNvbnN0cnVjdG9yIiwiaW5wdXQiLCJfaW5zdGFuY2VDb25zdHJ1Y3RvciIsIl9yZW1haW5pbmciLCJfZW51bWVyYXRlIiwiX2VhY2hFbnRyeSIsImVudHJ5IiwiYyIsInJlc29sdmUkJDEiLCJfdGhlbiIsImRpZEVycm9yIiwiX3NldHRsZWRBdCIsIlByb21pc2UkMSIsIl93aWxsU2V0dGxlQXQiLCJzdGF0ZSIsImVudW1lcmF0b3IiLCJyZXNvbHZlciIsIm5lZWRzUmVzb2x2ZXIiLCJpbml0aWFsaXplUHJvbWlzZSIsIm5lZWRzTmV3IiwiZmluYWxseSIsImFsbCIsImVudHJpZXMiLCJyYWNlIiwiXyIsIl9zZXRTY2hlZHVsZXIiLCJzY2hlZHVsZUZuIiwiX3NldEFzYXAiLCJhc2FwRm4iLCJfYXNhcCIsInBvbHlmaWxsIiwibG9jYWwiLCJwcm9taXNlVG9TdHJpbmciLCJjYXN0IiwiYnJvd3NlciIsIl9fbndqcyIsImNvbnNvbGUiLCJsYXN0QyIsInN0b3JhZ2UiLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsImdldEl0ZW0iLCJERUJVRyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInRvTG93ZXJDYXNlIiwiZG9jdW1lbnRFbGVtZW50Iiwic3R5bGUiLCJXZWJraXRBcHBlYXJhbmNlIiwiZmlyZWJ1ZyIsImV4Y2VwdGlvbiIsInRhYmxlIiwicGFyc2VJbnQiLCIkMSIsImxvY2FsU3RvcmFnZSIsImxvY2Fsc3RvcmFnZSIsImoiLCJKU09OIiwic3RyaW5naWZ5IiwicyIsIm0iLCJoIiwiZCIsInciLCJ5IiwicGx1cmFsIiwibXNBYnMiLCJuIiwiaXNQbHVyYWwiLCJyb3VuZCIsIlN0cmluZyIsImV4ZWMiLCJwYXJzZUZsb2F0IiwiaXNGaW5pdGUiLCJsb25nIiwiZm10TG9uZyIsImZtdFNob3J0IiwidHR5IiwidXRpbCIsImluc3BlY3RPcHRzIiwic3RkZXJyIiwiY29sb3JDb2RlIiwicHJlZml4IiwiaGlkZURhdGUiLCJ0b0lTT1N0cmluZyIsImdldERhdGUiLCJpc2F0dHkiLCJmZCIsInN1cHBvcnRzQ29sb3IiLCJsZXZlbCIsImZpbHRlciIsInJlZHVjZSIsIm9iaiIsInByb3AiLCJrIiwidG9VcHBlckNhc2UiLCJpbnNwZWN0IiwiTyIsIm9zIiwiaGFzRmxhZyIsImZvcmNlQ29sb3IiLCJnZXRTdXBwb3J0TGV2ZWwiLCJzdHJlYW0iLCJoYXNCYXNpYyIsImhhczI1NiIsImhhczE2bSIsInRyYW5zbGF0ZUxldmVsIiwiaXNUVFkiLCJtaW4iLCJURVJNIiwicGxhdGZvcm0iLCJvc1JlbGVhc2UiLCJyZWxlYXNlIiwidmVyc2lvbnMiLCJzaWduIiwiQ0lfTkFNRSIsIlRFQU1DSVRZX1ZFUlNJT04iLCJDT0xPUlRFUk0iLCJ2ZXJzaW9uIiwiVEVSTV9QUk9HUkFNX1ZFUlNJT04iLCJURVJNX1BST0dSQU0iLCJGT1JDRV9DT0xPUiIsInN0ZG91dCIsImZsYWciLCJhcmd2Iiwic3RhcnRzV2l0aCIsInBvcyIsInRlcm1pbmF0b3JQb3Mi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QUN0QixFQUdKLDhEQUE4RG5WLEtBQUtyRSxFQUFJd1osTUFDbkUsRUFHSixjQUFleFosRUFDWCxFQUdEdVosRUFJT3BCLENBQWNjLElBMUh6QkgsRUFBUSxhQUNYQSxFQUFRLGNBQ1JBLEVBQVEsZ0JBQ1JBLEVBQVEsZUFDUkMsRUFBYSxHQUNIRCxFQUFRLFVBQ2xCQSxFQUFRLFdBQ1JBLEVBQVEsZUFDUkEsRUFBUSxtQkFDUkMsRUFBYSxHQUVWLGdCQUFpQi9ZLElBRW5CK1ksR0FEdUIsSUFBcEIvWSxFQUFJb2EsYUFBNEMsU0FBcEJwYSxFQUFJb2EsWUFDdEIsR0FDaUIsSUFBcEJwYSxFQUFJb2EsYUFBNkMsVUFBcEJwYSxFQUFJb2EsWUFDOUIsRUFFMkIsSUFBM0JwYSxFQUFJb2EsWUFBWS9aLE9BQWUsRUFBSUksS0FBSzhZLElBQUl4RCxTQUFTL1YsRUFBSW9hLFlBQWEsSUFBSyxJQTZHMUZ0YSxFQUFPQyxRQUFVLENBQ2hCb1ksY0FBZWEsRUFDZnFCLE9BQVFyQixFQUFnQi9LLFFBQVFvTSxRQUNoQzFDLE9BQVFxQixFQUFnQi9LLFFBQVEwSixVLDhCQ3ZJakM3WCxFQUFPQyxRQUFVLENBQUN1YSxFQUFNQyxLQUN2QkEsRUFBT0EsR0FBUXRNLFFBQVFzTSxLQUN2QixNQUFNMUMsRUFBU3lDLEVBQUtFLFdBQVcsS0FBTyxHQUFzQixJQUFoQkYsRUFBS2phLE9BQWUsSUFBTSxLQUNoRW9hLEVBQU1GLEVBQUs1WCxRQUFRa1YsRUFBU3lDLEdBQzVCSSxFQUFnQkgsRUFBSzVYLFFBQVEsTUFDbkMsT0FBZ0IsSUFBVDhYLEtBQWtDLElBQW5CQyxHQUE4QkQsRUFBTUMiLCJmaWxlIjoidmVuZG9yc35tYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG4vKipcbiAqIFRoaXMgaXMgdGhlIGNvbW1vbiBsb2dpYyBmb3IgYm90aCB0aGUgTm9kZS5qcyBhbmQgd2ViIGJyb3dzZXJcbiAqIGltcGxlbWVudGF0aW9ucyBvZiBgZGVidWcoKWAuXG4gKi9cblxuZnVuY3Rpb24gc2V0dXAoZW52KSB7XG5cdGNyZWF0ZURlYnVnLmRlYnVnID0gY3JlYXRlRGVidWc7XG5cdGNyZWF0ZURlYnVnLmRlZmF1bHQgPSBjcmVhdGVEZWJ1Zztcblx0Y3JlYXRlRGVidWcuY29lcmNlID0gY29lcmNlO1xuXHRjcmVhdGVEZWJ1Zy5kaXNhYmxlID0gZGlzYWJsZTtcblx0Y3JlYXRlRGVidWcuZW5hYmxlID0gZW5hYmxlO1xuXHRjcmVhdGVEZWJ1Zy5lbmFibGVkID0gZW5hYmxlZDtcblx0Y3JlYXRlRGVidWcuaHVtYW5pemUgPSByZXF1aXJlKCdtcycpO1xuXG5cdE9iamVjdC5rZXlzKGVudikuZm9yRWFjaChrZXkgPT4ge1xuXHRcdGNyZWF0ZURlYnVnW2tleV0gPSBlbnZba2V5XTtcblx0fSk7XG5cblx0LyoqXG5cdCogQWN0aXZlIGBkZWJ1Z2AgaW5zdGFuY2VzLlxuXHQqL1xuXHRjcmVhdGVEZWJ1Zy5pbnN0YW5jZXMgPSBbXTtcblxuXHQvKipcblx0KiBUaGUgY3VycmVudGx5IGFjdGl2ZSBkZWJ1ZyBtb2RlIG5hbWVzLCBhbmQgbmFtZXMgdG8gc2tpcC5cblx0Ki9cblxuXHRjcmVhdGVEZWJ1Zy5uYW1lcyA9IFtdO1xuXHRjcmVhdGVEZWJ1Zy5za2lwcyA9IFtdO1xuXG5cdC8qKlxuXHQqIE1hcCBvZiBzcGVjaWFsIFwiJW5cIiBoYW5kbGluZyBmdW5jdGlvbnMsIGZvciB0aGUgZGVidWcgXCJmb3JtYXRcIiBhcmd1bWVudC5cblx0KlxuXHQqIFZhbGlkIGtleSBuYW1lcyBhcmUgYSBzaW5nbGUsIGxvd2VyIG9yIHVwcGVyLWNhc2UgbGV0dGVyLCBpLmUuIFwiblwiIGFuZCBcIk5cIi5cblx0Ki9cblx0Y3JlYXRlRGVidWcuZm9ybWF0dGVycyA9IHt9O1xuXG5cdC8qKlxuXHQqIFNlbGVjdHMgYSBjb2xvciBmb3IgYSBkZWJ1ZyBuYW1lc3BhY2Vcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlIFRoZSBuYW1lc3BhY2Ugc3RyaW5nIGZvciB0aGUgZm9yIHRoZSBkZWJ1ZyBpbnN0YW5jZSB0byBiZSBjb2xvcmVkXG5cdCogQHJldHVybiB7TnVtYmVyfFN0cmluZ30gQW4gQU5TSSBjb2xvciBjb2RlIGZvciB0aGUgZ2l2ZW4gbmFtZXNwYWNlXG5cdCogQGFwaSBwcml2YXRlXG5cdCovXG5cdGZ1bmN0aW9uIHNlbGVjdENvbG9yKG5hbWVzcGFjZSkge1xuXHRcdGxldCBoYXNoID0gMDtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXNwYWNlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBuYW1lc3BhY2UuY2hhckNvZGVBdChpKTtcblx0XHRcdGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNyZWF0ZURlYnVnLmNvbG9yc1tNYXRoLmFicyhoYXNoKSAlIGNyZWF0ZURlYnVnLmNvbG9ycy5sZW5ndGhdO1xuXHR9XG5cdGNyZWF0ZURlYnVnLnNlbGVjdENvbG9yID0gc2VsZWN0Q29sb3I7XG5cblx0LyoqXG5cdCogQ3JlYXRlIGEgZGVidWdnZXIgd2l0aCB0aGUgZ2l2ZW4gYG5hbWVzcGFjZWAuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG5cdCogQHJldHVybiB7RnVuY3Rpb259XG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gY3JlYXRlRGVidWcobmFtZXNwYWNlKSB7XG5cdFx0bGV0IHByZXZUaW1lO1xuXG5cdFx0ZnVuY3Rpb24gZGVidWcoLi4uYXJncykge1xuXHRcdFx0Ly8gRGlzYWJsZWQ/XG5cdFx0XHRpZiAoIWRlYnVnLmVuYWJsZWQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBzZWxmID0gZGVidWc7XG5cblx0XHRcdC8vIFNldCBgZGlmZmAgdGltZXN0YW1wXG5cdFx0XHRjb25zdCBjdXJyID0gTnVtYmVyKG5ldyBEYXRlKCkpO1xuXHRcdFx0Y29uc3QgbXMgPSBjdXJyIC0gKHByZXZUaW1lIHx8IGN1cnIpO1xuXHRcdFx0c2VsZi5kaWZmID0gbXM7XG5cdFx0XHRzZWxmLnByZXYgPSBwcmV2VGltZTtcblx0XHRcdHNlbGYuY3VyciA9IGN1cnI7XG5cdFx0XHRwcmV2VGltZSA9IGN1cnI7XG5cblx0XHRcdGFyZ3NbMF0gPSBjcmVhdGVEZWJ1Zy5jb2VyY2UoYXJnc1swXSk7XG5cblx0XHRcdGlmICh0eXBlb2YgYXJnc1swXSAhPT0gJ3N0cmluZycpIHtcblx0XHRcdFx0Ly8gQW55dGhpbmcgZWxzZSBsZXQncyBpbnNwZWN0IHdpdGggJU9cblx0XHRcdFx0YXJncy51bnNoaWZ0KCclTycpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBcHBseSBhbnkgYGZvcm1hdHRlcnNgIHRyYW5zZm9ybWF0aW9uc1xuXHRcdFx0bGV0IGluZGV4ID0gMDtcblx0XHRcdGFyZ3NbMF0gPSBhcmdzWzBdLnJlcGxhY2UoLyUoW2EtekEtWiVdKS9nLCAobWF0Y2gsIGZvcm1hdCkgPT4ge1xuXHRcdFx0XHQvLyBJZiB3ZSBlbmNvdW50ZXIgYW4gZXNjYXBlZCAlIHRoZW4gZG9uJ3QgaW5jcmVhc2UgdGhlIGFycmF5IGluZGV4XG5cdFx0XHRcdGlmIChtYXRjaCA9PT0gJyUlJykge1xuXHRcdFx0XHRcdHJldHVybiBtYXRjaDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0XHRjb25zdCBmb3JtYXR0ZXIgPSBjcmVhdGVEZWJ1Zy5mb3JtYXR0ZXJzW2Zvcm1hdF07XG5cdFx0XHRcdGlmICh0eXBlb2YgZm9ybWF0dGVyID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0Y29uc3QgdmFsID0gYXJnc1tpbmRleF07XG5cdFx0XHRcdFx0bWF0Y2ggPSBmb3JtYXR0ZXIuY2FsbChzZWxmLCB2YWwpO1xuXG5cdFx0XHRcdFx0Ly8gTm93IHdlIG5lZWQgdG8gcmVtb3ZlIGBhcmdzW2luZGV4XWAgc2luY2UgaXQncyBpbmxpbmVkIGluIHRoZSBgZm9ybWF0YFxuXHRcdFx0XHRcdGFyZ3Muc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdFx0XHRpbmRleC0tO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBtYXRjaDtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBBcHBseSBlbnYtc3BlY2lmaWMgZm9ybWF0dGluZyAoY29sb3JzLCBldGMuKVxuXHRcdFx0Y3JlYXRlRGVidWcuZm9ybWF0QXJncy5jYWxsKHNlbGYsIGFyZ3MpO1xuXG5cdFx0XHRjb25zdCBsb2dGbiA9IHNlbGYubG9nIHx8IGNyZWF0ZURlYnVnLmxvZztcblx0XHRcdGxvZ0ZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXHRcdH1cblxuXHRcdGRlYnVnLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcblx0XHRkZWJ1Zy5lbmFibGVkID0gY3JlYXRlRGVidWcuZW5hYmxlZChuYW1lc3BhY2UpO1xuXHRcdGRlYnVnLnVzZUNvbG9ycyA9IGNyZWF0ZURlYnVnLnVzZUNvbG9ycygpO1xuXHRcdGRlYnVnLmNvbG9yID0gc2VsZWN0Q29sb3IobmFtZXNwYWNlKTtcblx0XHRkZWJ1Zy5kZXN0cm95ID0gZGVzdHJveTtcblx0XHRkZWJ1Zy5leHRlbmQgPSBleHRlbmQ7XG5cdFx0Ly8gRGVidWcuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5cdFx0Ly8gZGVidWcucmF3TG9nID0gcmF3TG9nO1xuXG5cdFx0Ly8gZW52LXNwZWNpZmljIGluaXRpYWxpemF0aW9uIGxvZ2ljIGZvciBkZWJ1ZyBpbnN0YW5jZXNcblx0XHRpZiAodHlwZW9mIGNyZWF0ZURlYnVnLmluaXQgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdGNyZWF0ZURlYnVnLmluaXQoZGVidWcpO1xuXHRcdH1cblxuXHRcdGNyZWF0ZURlYnVnLmluc3RhbmNlcy5wdXNoKGRlYnVnKTtcblxuXHRcdHJldHVybiBkZWJ1Zztcblx0fVxuXG5cdGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG5cdFx0Y29uc3QgaW5kZXggPSBjcmVhdGVEZWJ1Zy5pbnN0YW5jZXMuaW5kZXhPZih0aGlzKTtcblx0XHRpZiAoaW5kZXggIT09IC0xKSB7XG5cdFx0XHRjcmVhdGVEZWJ1Zy5pbnN0YW5jZXMuc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRmdW5jdGlvbiBleHRlbmQobmFtZXNwYWNlLCBkZWxpbWl0ZXIpIHtcblx0XHRjb25zdCBuZXdEZWJ1ZyA9IGNyZWF0ZURlYnVnKHRoaXMubmFtZXNwYWNlICsgKHR5cGVvZiBkZWxpbWl0ZXIgPT09ICd1bmRlZmluZWQnID8gJzonIDogZGVsaW1pdGVyKSArIG5hbWVzcGFjZSk7XG5cdFx0bmV3RGVidWcubG9nID0gdGhpcy5sb2c7XG5cdFx0cmV0dXJuIG5ld0RlYnVnO1xuXHR9XG5cblx0LyoqXG5cdCogRW5hYmxlcyBhIGRlYnVnIG1vZGUgYnkgbmFtZXNwYWNlcy4gVGhpcyBjYW4gaW5jbHVkZSBtb2Rlc1xuXHQqIHNlcGFyYXRlZCBieSBhIGNvbG9uIGFuZCB3aWxkY2FyZHMuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGVuYWJsZShuYW1lc3BhY2VzKSB7XG5cdFx0Y3JlYXRlRGVidWcuc2F2ZShuYW1lc3BhY2VzKTtcblxuXHRcdGNyZWF0ZURlYnVnLm5hbWVzID0gW107XG5cdFx0Y3JlYXRlRGVidWcuc2tpcHMgPSBbXTtcblxuXHRcdGxldCBpO1xuXHRcdGNvbnN0IHNwbGl0ID0gKHR5cGVvZiBuYW1lc3BhY2VzID09PSAnc3RyaW5nJyA/IG5hbWVzcGFjZXMgOiAnJykuc3BsaXQoL1tcXHMsXSsvKTtcblx0XHRjb25zdCBsZW4gPSBzcGxpdC5sZW5ndGg7XG5cblx0XHRmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGlmICghc3BsaXRbaV0pIHtcblx0XHRcdFx0Ly8gaWdub3JlIGVtcHR5IHN0cmluZ3Ncblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdG5hbWVzcGFjZXMgPSBzcGxpdFtpXS5yZXBsYWNlKC9cXCovZywgJy4qPycpO1xuXG5cdFx0XHRpZiAobmFtZXNwYWNlc1swXSA9PT0gJy0nKSB7XG5cdFx0XHRcdGNyZWF0ZURlYnVnLnNraXBzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzLnN1YnN0cigxKSArICckJykpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y3JlYXRlRGVidWcubmFtZXMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMgKyAnJCcpKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmb3IgKGkgPSAwOyBpIDwgY3JlYXRlRGVidWcuaW5zdGFuY2VzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBpbnN0YW5jZSA9IGNyZWF0ZURlYnVnLmluc3RhbmNlc1tpXTtcblx0XHRcdGluc3RhbmNlLmVuYWJsZWQgPSBjcmVhdGVEZWJ1Zy5lbmFibGVkKGluc3RhbmNlLm5hbWVzcGFjZSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCogRGlzYWJsZSBkZWJ1ZyBvdXRwdXQuXG5cdCpcblx0KiBAcmV0dXJuIHtTdHJpbmd9IG5hbWVzcGFjZXNcblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBkaXNhYmxlKCkge1xuXHRcdGNvbnN0IG5hbWVzcGFjZXMgPSBbXG5cdFx0XHQuLi5jcmVhdGVEZWJ1Zy5uYW1lcy5tYXAodG9OYW1lc3BhY2UpLFxuXHRcdFx0Li4uY3JlYXRlRGVidWcuc2tpcHMubWFwKHRvTmFtZXNwYWNlKS5tYXAobmFtZXNwYWNlID0+ICctJyArIG5hbWVzcGFjZSlcblx0XHRdLmpvaW4oJywnKTtcblx0XHRjcmVhdGVEZWJ1Zy5lbmFibGUoJycpO1xuXHRcdHJldHVybiBuYW1lc3BhY2VzO1xuXHR9XG5cblx0LyoqXG5cdCogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBtb2RlIG5hbWUgaXMgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuXHQqXG5cdCogQHBhcmFtIHtTdHJpbmd9IG5hbWVcblx0KiBAcmV0dXJuIHtCb29sZWFufVxuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGVuYWJsZWQobmFtZSkge1xuXHRcdGlmIChuYW1lW25hbWUubGVuZ3RoIC0gMV0gPT09ICcqJykge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0bGV0IGk7XG5cdFx0bGV0IGxlbjtcblxuXHRcdGZvciAoaSA9IDAsIGxlbiA9IGNyZWF0ZURlYnVnLnNraXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRpZiAoY3JlYXRlRGVidWcuc2tpcHNbaV0udGVzdChuYW1lKSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Zm9yIChpID0gMCwgbGVuID0gY3JlYXRlRGVidWcubmFtZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGlmIChjcmVhdGVEZWJ1Zy5uYW1lc1tpXS50ZXN0KG5hbWUpKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8qKlxuXHQqIENvbnZlcnQgcmVnZXhwIHRvIG5hbWVzcGFjZVxuXHQqXG5cdCogQHBhcmFtIHtSZWdFeHB9IHJlZ3hlcFxuXHQqIEByZXR1cm4ge1N0cmluZ30gbmFtZXNwYWNlXG5cdCogQGFwaSBwcml2YXRlXG5cdCovXG5cdGZ1bmN0aW9uIHRvTmFtZXNwYWNlKHJlZ2V4cCkge1xuXHRcdHJldHVybiByZWdleHAudG9TdHJpbmcoKVxuXHRcdFx0LnN1YnN0cmluZygyLCByZWdleHAudG9TdHJpbmcoKS5sZW5ndGggLSAyKVxuXHRcdFx0LnJlcGxhY2UoL1xcLlxcKlxcPyQvLCAnKicpO1xuXHR9XG5cblx0LyoqXG5cdCogQ29lcmNlIGB2YWxgLlxuXHQqXG5cdCogQHBhcmFtIHtNaXhlZH0gdmFsXG5cdCogQHJldHVybiB7TWl4ZWR9XG5cdCogQGFwaSBwcml2YXRlXG5cdCovXG5cdGZ1bmN0aW9uIGNvZXJjZSh2YWwpIHtcblx0XHRpZiAodmFsIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0XHRcdHJldHVybiB2YWwuc3RhY2sgfHwgdmFsLm1lc3NhZ2U7XG5cdFx0fVxuXHRcdHJldHVybiB2YWw7XG5cdH1cblxuXHRjcmVhdGVEZWJ1Zy5lbmFibGUoY3JlYXRlRGVidWcubG9hZCgpKTtcblxuXHRyZXR1cm4gY3JlYXRlRGVidWc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0dXA7XG4iLCIvKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIG5ldCA9IHJlcXVpcmUoJ25ldCcpO1xudmFyIHRscyA9IHJlcXVpcmUoJ3RscycpO1xudmFyIHVybCA9IHJlcXVpcmUoJ3VybCcpO1xudmFyIGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xudmFyIEFnZW50ID0gcmVxdWlyZSgnYWdlbnQtYmFzZScpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgndXRpbCcpLmluaGVyaXRzO1xudmFyIGRlYnVnID0gcmVxdWlyZSgnZGVidWcnKSgnaHR0cHMtcHJveHktYWdlbnQnKTtcblxuLyoqXG4gKiBNb2R1bGUgZXhwb3J0cy5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IEh0dHBzUHJveHlBZ2VudDtcblxuLyoqXG4gKiBUaGUgYEh0dHBzUHJveHlBZ2VudGAgaW1wbGVtZW50cyBhbiBIVFRQIEFnZW50IHN1YmNsYXNzIHRoYXQgY29ubmVjdHMgdG8gdGhlXG4gKiBzcGVjaWZpZWQgXCJIVFRQKHMpIHByb3h5IHNlcnZlclwiIGluIG9yZGVyIHRvIHByb3h5IEhUVFBTIHJlcXVlc3RzLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gSHR0cHNQcm94eUFnZW50KG9wdHMpIHtcblx0aWYgKCEodGhpcyBpbnN0YW5jZW9mIEh0dHBzUHJveHlBZ2VudCkpIHJldHVybiBuZXcgSHR0cHNQcm94eUFnZW50KG9wdHMpO1xuXHRpZiAoJ3N0cmluZycgPT0gdHlwZW9mIG9wdHMpIG9wdHMgPSB1cmwucGFyc2Uob3B0cyk7XG5cdGlmICghb3B0cylcblx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHQnYW4gSFRUUChTKSBwcm94eSBzZXJ2ZXIgYGhvc3RgIGFuZCBgcG9ydGAgbXVzdCBiZSBzcGVjaWZpZWQhJ1xuXHRcdCk7XG5cdGRlYnVnKCdjcmVhdGluZyBuZXcgSHR0cHNQcm94eUFnZW50IGluc3RhbmNlOiAlbycsIG9wdHMpO1xuXHRBZ2VudC5jYWxsKHRoaXMsIG9wdHMpO1xuXG5cdHZhciBwcm94eSA9IE9iamVjdC5hc3NpZ24oe30sIG9wdHMpO1xuXG5cdC8vIGlmIGB0cnVlYCwgdGhlbiBjb25uZWN0IHRvIHRoZSBwcm94eSBzZXJ2ZXIgb3ZlciBUTFMuIGRlZmF1bHRzIHRvIGBmYWxzZWAuXG5cdHRoaXMuc2VjdXJlUHJveHkgPSBwcm94eS5wcm90b2NvbFxuXHRcdD8gL15odHRwczo/JC9pLnRlc3QocHJveHkucHJvdG9jb2wpXG5cdFx0OiBmYWxzZTtcblxuXHQvLyBwcmVmZXIgYGhvc3RuYW1lYCBvdmVyIGBob3N0YCwgYW5kIHNldCB0aGUgYHBvcnRgIGlmIG5lZWRlZFxuXHRwcm94eS5ob3N0ID0gcHJveHkuaG9zdG5hbWUgfHwgcHJveHkuaG9zdDtcblx0cHJveHkucG9ydCA9ICtwcm94eS5wb3J0IHx8ICh0aGlzLnNlY3VyZVByb3h5ID8gNDQzIDogODApO1xuXG5cdC8vIEFMUE4gaXMgc3VwcG9ydGVkIGJ5IE5vZGUuanMgPj0gdjUuXG5cdC8vIGF0dGVtcHQgdG8gbmVnb3RpYXRlIGh0dHAvMS4xIGZvciBwcm94eSBzZXJ2ZXJzIHRoYXQgc3VwcG9ydCBodHRwLzJcblx0aWYgKHRoaXMuc2VjdXJlUHJveHkgJiYgISgnQUxQTlByb3RvY29scycgaW4gcHJveHkpKSB7XG5cdFx0cHJveHkuQUxQTlByb3RvY29scyA9IFsnaHR0cCAxLjEnXTtcblx0fVxuXG5cdGlmIChwcm94eS5ob3N0ICYmIHByb3h5LnBhdGgpIHtcblx0XHQvLyBpZiBib3RoIGEgYGhvc3RgIGFuZCBgcGF0aGAgYXJlIHNwZWNpZmllZCB0aGVuIGl0J3MgbW9zdCBsaWtlbHkgdGhlXG5cdFx0Ly8gcmVzdWx0IG9mIGEgYHVybC5wYXJzZSgpYCBjYWxsLi4uIHdlIG5lZWQgdG8gcmVtb3ZlIHRoZSBgcGF0aGAgcG9ydGlvbiBzb1xuXHRcdC8vIHRoYXQgYG5ldC5jb25uZWN0KClgIGRvZXNuJ3QgYXR0ZW1wdCB0byBvcGVuIHRoYXQgYXMgYSB1bml4IHNvY2tldCBmaWxlLlxuXHRcdGRlbGV0ZSBwcm94eS5wYXRoO1xuXHRcdGRlbGV0ZSBwcm94eS5wYXRobmFtZTtcblx0fVxuXG5cdHRoaXMucHJveHkgPSBwcm94eTtcbn1cbmluaGVyaXRzKEh0dHBzUHJveHlBZ2VudCwgQWdlbnQpO1xuXG4vKipcbiAqIENhbGxlZCB3aGVuIHRoZSBub2RlLWNvcmUgSFRUUCBjbGllbnQgbGlicmFyeSBpcyBjcmVhdGluZyBhIG5ldyBIVFRQIHJlcXVlc3QuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5IdHRwc1Byb3h5QWdlbnQucHJvdG90eXBlLmNhbGxiYWNrID0gZnVuY3Rpb24gY29ubmVjdChyZXEsIG9wdHMsIGZuKSB7XG5cdHZhciBwcm94eSA9IHRoaXMucHJveHk7XG5cblx0Ly8gY3JlYXRlIGEgc29ja2V0IGNvbm5lY3Rpb24gdG8gdGhlIHByb3h5IHNlcnZlclxuXHR2YXIgc29ja2V0O1xuXHRpZiAodGhpcy5zZWN1cmVQcm94eSkge1xuXHRcdHNvY2tldCA9IHRscy5jb25uZWN0KHByb3h5KTtcblx0fSBlbHNlIHtcblx0XHRzb2NrZXQgPSBuZXQuY29ubmVjdChwcm94eSk7XG5cdH1cblxuXHQvLyB3ZSBuZWVkIHRvIGJ1ZmZlciBhbnkgSFRUUCB0cmFmZmljIHRoYXQgaGFwcGVucyB3aXRoIHRoZSBwcm94eSBiZWZvcmUgd2UgZ2V0XG5cdC8vIHRoZSBDT05ORUNUIHJlc3BvbnNlLCBzbyB0aGF0IGlmIHRoZSByZXNwb25zZSBpcyBhbnl0aGluZyBvdGhlciB0aGFuIGFuIFwiMjAwXCJcblx0Ly8gcmVzcG9uc2UgY29kZSwgdGhlbiB3ZSBjYW4gcmUtcGxheSB0aGUgXCJkYXRhXCIgZXZlbnRzIG9uIHRoZSBzb2NrZXQgb25jZSB0aGVcblx0Ly8gSFRUUCBwYXJzZXIgaXMgaG9va2VkIHVwLi4uXG5cdHZhciBidWZmZXJzID0gW107XG5cdHZhciBidWZmZXJzTGVuZ3RoID0gMDtcblxuXHRmdW5jdGlvbiByZWFkKCkge1xuXHRcdHZhciBiID0gc29ja2V0LnJlYWQoKTtcblx0XHRpZiAoYikgb25kYXRhKGIpO1xuXHRcdGVsc2Ugc29ja2V0Lm9uY2UoJ3JlYWRhYmxlJywgcmVhZCk7XG5cdH1cblxuXHRmdW5jdGlvbiBjbGVhbnVwKCkge1xuXHRcdHNvY2tldC5yZW1vdmVMaXN0ZW5lcignZW5kJywgb25lbmQpO1xuXHRcdHNvY2tldC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTtcblx0XHRzb2NrZXQucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgb25jbG9zZSk7XG5cdFx0c29ja2V0LnJlbW92ZUxpc3RlbmVyKCdyZWFkYWJsZScsIHJlYWQpO1xuXHR9XG5cblx0ZnVuY3Rpb24gb25jbG9zZShlcnIpIHtcblx0XHRkZWJ1Zygnb25jbG9zZSBoYWQgZXJyb3IgJW8nLCBlcnIpO1xuXHR9XG5cblx0ZnVuY3Rpb24gb25lbmQoKSB7XG5cdFx0ZGVidWcoJ29uZW5kJyk7XG5cdH1cblxuXHRmdW5jdGlvbiBvbmVycm9yKGVycikge1xuXHRcdGNsZWFudXAoKTtcblx0XHRmbihlcnIpO1xuXHR9XG5cblx0ZnVuY3Rpb24gb25kYXRhKGIpIHtcblx0XHRidWZmZXJzLnB1c2goYik7XG5cdFx0YnVmZmVyc0xlbmd0aCArPSBiLmxlbmd0aDtcblx0XHR2YXIgYnVmZmVyZWQgPSBCdWZmZXIuY29uY2F0KGJ1ZmZlcnMsIGJ1ZmZlcnNMZW5ndGgpO1xuXHRcdHZhciBzdHIgPSBidWZmZXJlZC50b1N0cmluZygnYXNjaWknKTtcblxuXHRcdGlmICghfnN0ci5pbmRleE9mKCdcXHJcXG5cXHJcXG4nKSkge1xuXHRcdFx0Ly8ga2VlcCBidWZmZXJpbmdcblx0XHRcdGRlYnVnKCdoYXZlIG5vdCByZWNlaXZlZCBlbmQgb2YgSFRUUCBoZWFkZXJzIHlldC4uLicpO1xuXHRcdFx0cmVhZCgpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHZhciBmaXJzdExpbmUgPSBzdHIuc3Vic3RyaW5nKDAsIHN0ci5pbmRleE9mKCdcXHJcXG4nKSk7XG5cdFx0dmFyIHN0YXR1c0NvZGUgPSArZmlyc3RMaW5lLnNwbGl0KCcgJylbMV07XG5cdFx0ZGVidWcoJ2dvdCBwcm94eSBzZXJ2ZXIgcmVzcG9uc2U6ICVvJywgZmlyc3RMaW5lKTtcblxuXHRcdGlmICgyMDAgPT0gc3RhdHVzQ29kZSkge1xuXHRcdFx0Ly8gMjAwIENvbm5lY3RlZCBzdGF0dXMgY29kZSFcblx0XHRcdHZhciBzb2NrID0gc29ja2V0O1xuXG5cdFx0XHQvLyBudWxsaWZ5IHRoZSBidWZmZXJlZCBkYXRhIHNpbmNlIHdlIHdvbid0IGJlIG5lZWRpbmcgaXRcblx0XHRcdGJ1ZmZlcnMgPSBidWZmZXJlZCA9IG51bGw7XG5cblx0XHRcdGlmIChvcHRzLnNlY3VyZUVuZHBvaW50KSB7XG5cdFx0XHRcdC8vIHNpbmNlIHRoZSBwcm94eSBpcyBjb25uZWN0aW5nIHRvIGFuIFNTTCBzZXJ2ZXIsIHdlIGhhdmVcblx0XHRcdFx0Ly8gdG8gdXBncmFkZSB0aGlzIHNvY2tldCBjb25uZWN0aW9uIHRvIGFuIFNTTCBjb25uZWN0aW9uXG5cdFx0XHRcdGRlYnVnKFxuXHRcdFx0XHRcdCd1cGdyYWRpbmcgcHJveHktY29ubmVjdGVkIHNvY2tldCB0byBUTFMgY29ubmVjdGlvbjogJW8nLFxuXHRcdFx0XHRcdG9wdHMuaG9zdFxuXHRcdFx0XHQpO1xuXHRcdFx0XHRvcHRzLnNvY2tldCA9IHNvY2tldDtcblx0XHRcdFx0b3B0cy5zZXJ2ZXJuYW1lID0gb3B0cy5zZXJ2ZXJuYW1lIHx8IG9wdHMuaG9zdDtcblx0XHRcdFx0b3B0cy5ob3N0ID0gbnVsbDtcblx0XHRcdFx0b3B0cy5ob3N0bmFtZSA9IG51bGw7XG5cdFx0XHRcdG9wdHMucG9ydCA9IG51bGw7XG5cdFx0XHRcdHNvY2sgPSB0bHMuY29ubmVjdChvcHRzKTtcblx0XHRcdH1cblxuXHRcdFx0Y2xlYW51cCgpO1xuXHRcdFx0cmVxLm9uY2UoJ3NvY2tldCcsIHJlc3VtZSk7XG5cdFx0XHRmbihudWxsLCBzb2NrKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gc29tZSBvdGhlciBzdGF0dXMgY29kZSB0aGF0J3Mgbm90IDIwMC4uLiBuZWVkIHRvIHJlLXBsYXkgdGhlIEhUVFAgaGVhZGVyXG5cdFx0XHQvLyBcImRhdGFcIiBldmVudHMgb250byB0aGUgc29ja2V0IG9uY2UgdGhlIEhUVFAgbWFjaGluZXJ5IGlzIGF0dGFjaGVkIHNvXG5cdFx0XHQvLyB0aGF0IHRoZSBub2RlIGNvcmUgYGh0dHBgIGNhbiBwYXJzZSBhbmQgaGFuZGxlIHRoZSBlcnJvciBzdGF0dXMgY29kZVxuXHRcdFx0Y2xlYW51cCgpO1xuXG5cdFx0XHQvLyB0aGUgb3JpZ2luYWwgc29ja2V0IGlzIGNsb3NlZCwgYW5kIGEgbmV3IGNsb3NlZCBzb2NrZXQgaXNcblx0XHRcdC8vIHJldHVybmVkIGluc3RlYWQsIHNvIHRoYXQgdGhlIHByb3h5IGRvZXNuJ3QgZ2V0IHRoZSBIVFRQIHJlcXVlc3Rcblx0XHRcdC8vIHdyaXR0ZW4gdG8gaXQgKHdoaWNoIG1heSBjb250YWluIGBBdXRob3JpemF0aW9uYCBoZWFkZXJzIG9yIG90aGVyXG5cdFx0XHQvLyBzZW5zaXRpdmUgZGF0YSkuXG5cdFx0XHQvL1xuXHRcdFx0Ly8gU2VlOiBodHRwczovL2hhY2tlcm9uZS5jb20vcmVwb3J0cy81NDE1MDJcblx0XHRcdHNvY2tldC5kZXN0cm95KCk7XG5cdFx0XHRzb2NrZXQgPSBuZXcgbmV0LlNvY2tldCgpO1xuXHRcdFx0c29ja2V0LnJlYWRhYmxlID0gdHJ1ZTtcblxuXHRcdFx0Ly8gc2F2ZSBhIHJlZmVyZW5jZSB0byB0aGUgY29uY2F0J2QgQnVmZmVyIGZvciB0aGUgYG9uc29ja2V0YCBjYWxsYmFja1xuXHRcdFx0YnVmZmVycyA9IGJ1ZmZlcmVkO1xuXG5cdFx0XHQvLyBuZWVkIHRvIHdhaXQgZm9yIHRoZSBcInNvY2tldFwiIGV2ZW50IHRvIHJlLXBsYXkgdGhlIFwiZGF0YVwiIGV2ZW50c1xuXHRcdFx0cmVxLm9uY2UoJ3NvY2tldCcsIG9uc29ja2V0KTtcblxuXHRcdFx0Zm4obnVsbCwgc29ja2V0KTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBvbnNvY2tldChzb2NrZXQpIHtcblx0XHRkZWJ1ZygncmVwbGF5aW5nIHByb3h5IGJ1ZmZlciBmb3IgZmFpbGVkIHJlcXVlc3QnKTtcblx0XHRhc3NlcnQoc29ja2V0Lmxpc3RlbmVyQ291bnQoJ2RhdGEnKSA+IDApO1xuXG5cdFx0Ly8gcmVwbGF5IHRoZSBcImJ1ZmZlcnNcIiBCdWZmZXIgb250byB0aGUgYHNvY2tldGAsIHNpbmNlIGF0IHRoaXMgcG9pbnRcblx0XHQvLyB0aGUgSFRUUCBtb2R1bGUgbWFjaGluZXJ5IGhhcyBiZWVuIGhvb2tlZCB1cCBmb3IgdGhlIHVzZXJcblx0XHRzb2NrZXQucHVzaChidWZmZXJzKTtcblxuXHRcdC8vIG51bGxpZnkgdGhlIGNhY2hlZCBCdWZmZXIgaW5zdGFuY2Vcblx0XHRidWZmZXJzID0gbnVsbDtcblx0fVxuXG5cdHNvY2tldC5vbignZXJyb3InLCBvbmVycm9yKTtcblx0c29ja2V0Lm9uKCdjbG9zZScsIG9uY2xvc2UpO1xuXHRzb2NrZXQub24oJ2VuZCcsIG9uZW5kKTtcblxuXHRyZWFkKCk7XG5cblx0dmFyIGhvc3RuYW1lID0gb3B0cy5ob3N0ICsgJzonICsgb3B0cy5wb3J0O1xuXHR2YXIgbXNnID0gJ0NPTk5FQ1QgJyArIGhvc3RuYW1lICsgJyBIVFRQLzEuMVxcclxcbic7XG5cblx0dmFyIGhlYWRlcnMgPSBPYmplY3QuYXNzaWduKHt9LCBwcm94eS5oZWFkZXJzKTtcblx0aWYgKHByb3h5LmF1dGgpIHtcblx0XHRoZWFkZXJzWydQcm94eS1BdXRob3JpemF0aW9uJ10gPVxuXHRcdFx0J0Jhc2ljICcgKyBCdWZmZXIuZnJvbShwcm94eS5hdXRoKS50b1N0cmluZygnYmFzZTY0Jyk7XG5cdH1cblxuXHQvLyB0aGUgSG9zdCBoZWFkZXIgc2hvdWxkIG9ubHkgaW5jbHVkZSB0aGUgcG9ydFxuXHQvLyBudW1iZXIgd2hlbiBpdCBpcyBhIG5vbi1zdGFuZGFyZCBwb3J0XG5cdHZhciBob3N0ID0gb3B0cy5ob3N0O1xuXHRpZiAoIWlzRGVmYXVsdFBvcnQob3B0cy5wb3J0LCBvcHRzLnNlY3VyZUVuZHBvaW50KSkge1xuXHRcdGhvc3QgKz0gJzonICsgb3B0cy5wb3J0O1xuXHR9XG5cdGhlYWRlcnNbJ0hvc3QnXSA9IGhvc3Q7XG5cblx0aGVhZGVyc1snQ29ubmVjdGlvbiddID0gJ2Nsb3NlJztcblx0T2JqZWN0LmtleXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG5cdFx0bXNnICs9IG5hbWUgKyAnOiAnICsgaGVhZGVyc1tuYW1lXSArICdcXHJcXG4nO1xuXHR9KTtcblxuXHRzb2NrZXQud3JpdGUobXNnICsgJ1xcclxcbicpO1xufTtcblxuLyoqXG4gKiBSZXN1bWVzIGEgc29ja2V0LlxuICpcbiAqIEBwYXJhbSB7KG5ldC5Tb2NrZXR8dGxzLlNvY2tldCl9IHNvY2tldCBUaGUgc29ja2V0IHRvIHJlc3VtZVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiByZXN1bWUoc29ja2V0KSB7XG5cdHNvY2tldC5yZXN1bWUoKTtcbn1cblxuZnVuY3Rpb24gaXNEZWZhdWx0UG9ydChwb3J0LCBzZWN1cmUpIHtcblx0cmV0dXJuIEJvb2xlYW4oKCFzZWN1cmUgJiYgcG9ydCA9PT0gODApIHx8IChzZWN1cmUgJiYgcG9ydCA9PT0gNDQzKSk7XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbmNvbnN0IGVzNl9wcm9taXNpZnlfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiZXM2LXByb21pc2lmeVwiKSk7XG5jb25zdCBldmVudHNfMSA9IHJlcXVpcmUoXCJldmVudHNcIik7XG5mdW5jdGlvbiBpc0FnZW50QmFzZSh2KSB7XG4gICAgcmV0dXJuIEJvb2xlYW4odikgJiYgdHlwZW9mIHYuYWRkUmVxdWVzdCA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGlzSHR0cEFnZW50KHYpIHtcbiAgICByZXR1cm4gQm9vbGVhbih2KSAmJiB0eXBlb2Ygdi5hZGRSZXF1ZXN0ID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gaXNTZWN1cmVFbmRwb2ludCgpIHtcbiAgICBjb25zdCB7IHN0YWNrIH0gPSBuZXcgRXJyb3IoKTtcbiAgICBpZiAodHlwZW9mIHN0YWNrICE9PSAnc3RyaW5nJylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBzdGFjay5zcGxpdCgnXFxuJykuc29tZShsID0+IGwuaW5kZXhPZignKGh0dHBzLmpzOicpICE9PSAtMSk7XG59XG5mdW5jdGlvbiBjcmVhdGVBZ2VudChjYWxsYmFjaywgb3B0cykge1xuICAgIHJldHVybiBuZXcgY3JlYXRlQWdlbnQuQWdlbnQoY2FsbGJhY2ssIG9wdHMpO1xufVxuKGZ1bmN0aW9uIChjcmVhdGVBZ2VudCkge1xuICAgIC8qKlxuICAgICAqIEJhc2UgYGh0dHAuQWdlbnRgIGltcGxlbWVudGF0aW9uLlxuICAgICAqIE5vIHBvb2xpbmcva2VlcC1hbGl2ZSBpcyBpbXBsZW1lbnRlZCBieSBkZWZhdWx0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAYXBpIHB1YmxpY1xuICAgICAqL1xuICAgIGNsYXNzIEFnZW50IGV4dGVuZHMgZXZlbnRzXzEuRXZlbnRFbWl0dGVyIHtcbiAgICAgICAgY29uc3RydWN0b3IoY2FsbGJhY2ssIF9vcHRzKSB7XG4gICAgICAgICAgICBzdXBlcigpO1xuICAgICAgICAgICAgLy8gVGhlIGNhbGxiYWNrIGdldHMgcHJvbWlzaWZpZWQgbGF6aWx5XG4gICAgICAgICAgICB0aGlzLl9wcm9taXNpZmllZENhbGxiYWNrID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgbGV0IG9wdHMgPSBfb3B0cztcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIG9wdHMgPSBjYWxsYmFjaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRpbWVvdXQgZm9yIHRoZSBzb2NrZXQgdG8gYmUgcmV0dXJuZWQgZnJvbSB0aGUgY2FsbGJhY2tcbiAgICAgICAgICAgIHRoaXMudGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICBpZiAob3B0cyAmJiB0eXBlb2Ygb3B0cy50aW1lb3V0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIHRoaXMudGltZW91dCA9IG9wdHMudGltZW91dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdHMgfHwge307XG4gICAgICAgICAgICB0aGlzLm1heEZyZWVTb2NrZXRzID0gMTtcbiAgICAgICAgICAgIHRoaXMubWF4U29ja2V0cyA9IDE7XG4gICAgICAgICAgICB0aGlzLnNvY2tldHMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgZGVmYXVsdFBvcnQoKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuX2RlZmF1bHRQb3J0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWZhdWx0UG9ydDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBpc1NlY3VyZUVuZHBvaW50KCkgPyA0NDMgOiA4MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXQgZGVmYXVsdFBvcnQodikge1xuICAgICAgICAgICAgdGhpcy5fZGVmYXVsdFBvcnQgPSB2O1xuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrKHJlcSwgb3B0cywgZm4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignXCJhZ2VudC1iYXNlXCIgaGFzIG5vIGRlZmF1bHQgaW1wbGVtZW50YXRpb24sIHlvdSBtdXN0IHN1YmNsYXNzIGFuZCBvdmVycmlkZSBgY2FsbGJhY2soKWAnKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGVkIGJ5IG5vZGUtY29yZSdzIFwiX2h0dHBfY2xpZW50LmpzXCIgbW9kdWxlIHdoZW4gY3JlYXRpbmdcbiAgICAgICAgICogYSBuZXcgSFRUUCByZXF1ZXN0IHdpdGggdGhpcyBBZ2VudCBpbnN0YW5jZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGFwaSBwdWJsaWNcbiAgICAgICAgICovXG4gICAgICAgIGFkZFJlcXVlc3QocmVxLCBfb3B0cykge1xuICAgICAgICAgICAgY29uc3Qgb3duT3B0cyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgX29wdHMpLCB7IHNlY3VyZUVuZHBvaW50OiBpc1NlY3VyZUVuZHBvaW50KCkgfSk7XG4gICAgICAgICAgICAvLyBTZXQgZGVmYXVsdCBgaG9zdGAgZm9yIEhUVFAgdG8gbG9jYWxob3N0XG4gICAgICAgICAgICBpZiAob3duT3B0cy5ob3N0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBvd25PcHRzLmhvc3QgPSAnbG9jYWxob3N0JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNldCBkZWZhdWx0IGBwb3J0YCBmb3IgSFRUUCBpZiBub25lIHdhcyBleHBsaWNpdGx5IHNwZWNpZmllZFxuICAgICAgICAgICAgaWYgKG93bk9wdHMucG9ydCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgb3duT3B0cy5wb3J0ID0gb3duT3B0cy5zZWN1cmVFbmRwb2ludCA/IDQ0MyA6IDgwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb3B0cyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRpb25zKSwgb3duT3B0cyk7XG4gICAgICAgICAgICBpZiAob3B0cy5ob3N0ICYmIG9wdHMucGF0aCkge1xuICAgICAgICAgICAgICAgIC8vIElmIGJvdGggYSBgaG9zdGAgYW5kIGBwYXRoYCBhcmUgc3BlY2lmaWVkIHRoZW4gaXQncyBtb3N0IGxpa2VseSB0aGVcbiAgICAgICAgICAgICAgICAvLyByZXN1bHQgb2YgYSBgdXJsLnBhcnNlKClgIGNhbGwuLi4gd2UgbmVlZCB0byByZW1vdmUgdGhlIGBwYXRoYCBwb3J0aW9uIHNvXG4gICAgICAgICAgICAgICAgLy8gdGhhdCBgbmV0LmNvbm5lY3QoKWAgZG9lc24ndCBhdHRlbXB0IHRvIG9wZW4gdGhhdCBhcyBhIHVuaXggc29ja2V0IGZpbGUuXG4gICAgICAgICAgICAgICAgZGVsZXRlIG9wdHMucGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbGV0ZSBvcHRzLmFnZW50O1xuICAgICAgICAgICAgZGVsZXRlIG9wdHMuaG9zdG5hbWU7XG4gICAgICAgICAgICBkZWxldGUgb3B0cy5fZGVmYXVsdEFnZW50O1xuICAgICAgICAgICAgZGVsZXRlIG9wdHMuZGVmYXVsdFBvcnQ7XG4gICAgICAgICAgICBkZWxldGUgb3B0cy5jcmVhdGVDb25uZWN0aW9uO1xuICAgICAgICAgICAgLy8gSGludCB0byB1c2UgXCJDb25uZWN0aW9uOiBjbG9zZVwiXG4gICAgICAgICAgICAvLyBYWFg6IG5vbi1kb2N1bWVudGVkIGBodHRwYCBtb2R1bGUgQVBJIDooXG4gICAgICAgICAgICByZXEuX2xhc3QgPSB0cnVlO1xuICAgICAgICAgICAgcmVxLnNob3VsZEtlZXBBbGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBgc3RyZWFtLkR1cGxleGAgaW5zdGFuY2VcbiAgICAgICAgICAgIGxldCB0aW1lZE91dCA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IHRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgY29uc3QgdGltZW91dE1zID0gdGhpcy50aW1lb3V0O1xuICAgICAgICAgICAgY29uc3QgZnJlZVNvY2tldCA9IHRoaXMuZnJlZVNvY2tldDtcbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uZXJyb3IoZXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlcS5faGFkRXJyb3IpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICByZXEuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgICAgICAgICAgIC8vIEZvciBTYWZldHkuIFNvbWUgYWRkaXRpb25hbCBlcnJvcnMgbWlnaHQgZmlyZSBsYXRlciBvblxuICAgICAgICAgICAgICAgIC8vIGFuZCB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB3ZSBkb24ndCBkb3VibGUtZmlyZSB0aGUgZXJyb3IgZXZlbnQuXG4gICAgICAgICAgICAgICAgcmVxLl9oYWRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBvbnRpbWVvdXQoKSB7XG4gICAgICAgICAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGltZWRPdXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihgQSBcInNvY2tldFwiIHdhcyBub3QgY3JlYXRlZCBmb3IgSFRUUCByZXF1ZXN0IGJlZm9yZSAke3RpbWVvdXRNc31tc2ApO1xuICAgICAgICAgICAgICAgIGVyci5jb2RlID0gJ0VUSU1FT1VUJztcbiAgICAgICAgICAgICAgICBvbmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBjYWxsYmFja0Vycm9yKGVycikge1xuICAgICAgICAgICAgICAgIGlmICh0aW1lZE91dClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmICh0aW1lb3V0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uc29ja2V0KHNvY2tldCkge1xuICAgICAgICAgICAgICAgIGxldCBzb2NrO1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG9uZnJlZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgZnJlZVNvY2tldChzb2NrLCBvcHRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRpbWVkT3V0KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKHRpbWVvdXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNBZ2VudEJhc2Uoc29ja2V0KSB8fCBpc0h0dHBBZ2VudChzb2NrZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGBzb2NrZXRgIGlzIGFjdHVhbGx5IGFuIGBodHRwLkFnZW50YCBpbnN0YW5jZSwgc29cbiAgICAgICAgICAgICAgICAgICAgLy8gcmVsaW5xdWlzaCByZXNwb25zaWJpbGl0eSBmb3IgdGhpcyBgcmVxYCB0byB0aGUgQWdlbnRcbiAgICAgICAgICAgICAgICAgICAgLy8gZnJvbSBoZXJlIG9uXG4gICAgICAgICAgICAgICAgICAgIHNvY2tldC5hZGRSZXF1ZXN0KHJlcSwgb3B0cyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNvY2tldCkge1xuICAgICAgICAgICAgICAgICAgICBzb2NrID0gc29ja2V0O1xuICAgICAgICAgICAgICAgICAgICBzb2NrLm9uKCdmcmVlJywgb25mcmVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uU29ja2V0KHNvY2spO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihgbm8gRHVwbGV4IHN0cmVhbSB3YXMgcmV0dXJuZWQgdG8gYWdlbnQtYmFzZSBmb3IgXFxgJHtyZXEubWV0aG9kfSAke3JlcS5wYXRofVxcYGApO1xuICAgICAgICAgICAgICAgIG9uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5jYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIG9uZXJyb3IobmV3IEVycm9yKCdgY2FsbGJhY2tgIGlzIG5vdCBkZWZpbmVkJykpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5fcHJvbWlzaWZpZWRDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbGxiYWNrLmxlbmd0aCA+PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIExlZ2FjeSBjYWxsYmFjayBmdW5jdGlvbiAtIGNvbnZlcnQgdG8gYSBQcm9taXNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Byb21pc2lmaWVkQ2FsbGJhY2sgPSBlczZfcHJvbWlzaWZ5XzEuZGVmYXVsdCh0aGlzLmNhbGxiYWNrLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzQXJnOiB0aGlzXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHJvbWlzaWZpZWRDYWxsYmFjayA9IHRoaXMuY2FsbGJhY2s7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aW1lb3V0TXMgPT09ICdudW1iZXInICYmIHRpbWVvdXRNcyA+IDApIHtcbiAgICAgICAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChvbnRpbWVvdXQsIHRpbWVvdXRNcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJ3BvcnQnIGluIG9wdHMgJiYgdHlwZW9mIG9wdHMucG9ydCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBvcHRzLnBvcnQgPSBOdW1iZXIob3B0cy5wb3J0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3Byb21pc2lmaWVkQ2FsbGJhY2socmVxLCBvcHRzKSkudGhlbihvbnNvY2tldCwgY2FsbGJhY2tFcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgUHJvbWlzZS5yZWplY3QoZXJyKS5jYXRjaChjYWxsYmFja0Vycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmcmVlU29ja2V0KHNvY2tldCwgb3B0cykge1xuICAgICAgICAgICAgLy8gVE9ETyByZXVzZSBzb2NrZXRzXG4gICAgICAgICAgICBzb2NrZXQuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIGRlc3Ryb3koKSB7IH1cbiAgICB9XG4gICAgY3JlYXRlQWdlbnQuQWdlbnQgPSBBZ2VudDtcbn0pKGNyZWF0ZUFnZW50IHx8IChjcmVhdGVBZ2VudCA9IHt9KSk7XG4vLyBTbyB0aGF0IGBpbnN0YW5jZW9mYCB3b3JrcyBjb3JyZWN0bHlcbmNyZWF0ZUFnZW50LnByb3RvdHlwZSA9IGNyZWF0ZUFnZW50LkFnZW50LnByb3RvdHlwZTtcbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlQWdlbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogZ2xvYmFsIG1vZHVsZSwgcmVxdWlyZSAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIC8vIEdldCBhIHByb21pc2Ugb2JqZWN0LiBUaGlzIG1heSBiZSBuYXRpdmUsIG9yIGl0IG1heSBiZSBwb2x5ZmlsbGVkXG5cbiAgICB2YXIgRVM2UHJvbWlzZSA9IHJlcXVpcmUoXCIuL3Byb21pc2UuanNcIik7XG5cbiAgICAvKipcbiAgICAgKiB0aGF0TG9va3NMaWtlQVByb21pc2VUb01lKClcbiAgICAgKlxuICAgICAqIER1Y2stdHlwZXMgYSBwcm9taXNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9cbiAgICAgKiBAcmV0dXJuIHtib29sfSBUcnVlIGlmIHRoaXMgcmVzZW1ibGVzIGEgcHJvbWlzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRoYXRMb29rc0xpa2VBUHJvbWlzZVRvTWUobykge1xuICAgICAgICByZXR1cm4gbyAmJiB0eXBlb2Ygby50aGVuID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIG8uY2F0Y2ggPT09IFwiZnVuY3Rpb25cIjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBwcm9taXNpZnkoKVxuICAgICAqXG4gICAgICogVHJhbnNmb3JtcyBjYWxsYmFjay1iYXNlZCBmdW5jdGlvbiAtLSBmdW5jKGFyZzEsIGFyZzIgLi4gYXJnTiwgY2FsbGJhY2spIC0tIGludG9cbiAgICAgKiBhbiBFUzYtY29tcGF0aWJsZSBQcm9taXNlLiBQcm9taXNpZnkgcHJvdmlkZXMgYSBkZWZhdWx0IGNhbGxiYWNrIG9mIHRoZSBmb3JtIChlcnJvciwgcmVzdWx0KVxuICAgICAqIGFuZCByZWplY3RzIHdoZW4gYGVycm9yYCBpcyB0cnV0aHkuIFlvdSBjYW4gYWxzbyBzdXBwbHkgc2V0dGluZ3Mgb2JqZWN0IGFzIHRoZSBzZWNvbmQgYXJndW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBvcmlnaW5hbCAtIFRoZSBmdW5jdGlvbiB0byBwcm9taXNpZnlcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc2V0dGluZ3MgLSBTZXR0aW5ncyBvYmplY3RcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc2V0dGluZ3MudGhpc0FyZyAtIEEgYHRoaXNgIGNvbnRleHQgdG8gdXNlLiBJZiBub3Qgc2V0LCBhc3N1bWUgYHNldHRpbmdzYCBfaXNfIGB0aGlzQXJnYFxuICAgICAqIEBwYXJhbSB7Ym9vbH0gc2V0dGluZ3MubXVsdGlBcmdzIC0gU2hvdWxkIG11bHRpcGxlIGFyZ3VtZW50cyBiZSByZXR1cm5lZCBhcyBhbiBhcnJheT9cbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gQSBwcm9taXNpZmllZCB2ZXJzaW9uIG9mIGBvcmlnaW5hbGBcbiAgICAgKi9cbiAgICByZXR1cm4gZnVuY3Rpb24gcHJvbWlzaWZ5KG9yaWdpbmFsLCBzZXR0aW5ncykge1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciByZXR1cm5NdWx0aXBsZUFyZ3VtZW50cyA9IHNldHRpbmdzICYmIHNldHRpbmdzLm11bHRpQXJncztcblxuICAgICAgICAgICAgdmFyIHRhcmdldCA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncyAmJiBzZXR0aW5ncy50aGlzQXJnKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gc2V0dGluZ3MudGhpc0FyZztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSBzZXR0aW5ncztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSBwcm9taXNpZmllZCBmdW5jdGlvblxuICAgICAgICAgICAgcmV0dXJuIG5ldyBFUzZQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblxuICAgICAgICAgICAgICAgIC8vIEFwcGVuZCB0aGUgY2FsbGJhY2sgYm91bmQgdG8gdGhlIGNvbnRleHRcbiAgICAgICAgICAgICAgICBhcmdzLnB1c2goZnVuY3Rpb24gY2FsbGJhY2soZXJyKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCB2YWx1ZXMgPSBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoZmFsc2UgPT09ICEhcmV0dXJuTXVsdGlwbGVBcmd1bWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHZhbHVlc1swXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHZhbHVlcyk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBDYWxsIHRoZSBmdW5jdGlvblxuICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IG9yaWdpbmFsLmFwcGx5KHRhcmdldCwgYXJncyk7XG5cbiAgICAgICAgICAgICAgICAvLyBJZiBpdCBsb29rcyBsaWtlIG9yaWdpbmFsIGFscmVhZHkgcmV0dXJucyBhIHByb21pc2UsXG4gICAgICAgICAgICAgICAgLy8gdGhlbiBqdXN0IHJlc29sdmUgd2l0aCB0aGF0IHByb21pc2UuIEhvcGVmdWxseSwgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHdlIGFkZGVkIHdpbGwganVzdCBiZSBpZ25vcmVkLlxuICAgICAgICAgICAgICAgIGlmICh0aGF0TG9va3NMaWtlQVByb21pc2VUb01lKHJlc3BvbnNlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9O1xufSgpOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBnbG9iYWwgc2VsZiwgd2luZG93LCBtb2R1bGUsIGdsb2JhbCwgcmVxdWlyZSAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIHZhciBnbG9iYWxPYmplY3QgPSB2b2lkIDA7XG5cbiAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHgpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB4ID09PSBcImZ1bmN0aW9uXCI7XG4gICAgfVxuXG4gICAgLy8gU2VlayB0aGUgZ2xvYmFsIG9iamVjdFxuICAgIGlmIChnbG9iYWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBnbG9iYWxPYmplY3QgPSBnbG9iYWw7XG4gICAgfSBlbHNlIGlmICh3aW5kb3cgIT09IHVuZGVmaW5lZCAmJiB3aW5kb3cuZG9jdW1lbnQpIHtcbiAgICAgICAgZ2xvYmFsT2JqZWN0ID0gd2luZG93O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGdsb2JhbE9iamVjdCA9IHNlbGY7XG4gICAgfVxuXG4gICAgLy8gVGVzdCBmb3IgYW55IG5hdGl2ZSBwcm9taXNlIGltcGxlbWVudGF0aW9uLCBhbmQgaWYgdGhhdFxuICAgIC8vIGltcGxlbWVudGF0aW9uIGFwcGVhcnMgdG8gY29uZm9ybSB0byB0aGUgc3BlY2lmaWNhdG9uLlxuICAgIC8vIFRoaXMgY29kZSBtb3N0bHkgbmlja2VkIGZyb20gdGhlIGVzNi1wcm9taXNlIG1vZHVsZSBwb2x5ZmlsbFxuICAgIC8vIGFuZCB0aGVuIGZvb2xlZCB3aXRoLlxuICAgIHZhciBoYXNQcm9taXNlU3VwcG9ydCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAvLyBObyBwcm9taXNlIG9iamVjdCBhdCBhbGwsIGFuZCBpdCdzIGEgbm9uLXN0YXJ0ZXJcbiAgICAgICAgaWYgKCFnbG9iYWxPYmplY3QuaGFzT3duUHJvcGVydHkoXCJQcm9taXNlXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGVyZSBpcyBhIFByb21pc2Ugb2JqZWN0LiBEb2VzIGl0IGNvbmZvcm0gdG8gdGhlIHNwZWM/XG4gICAgICAgIHZhciBQID0gZ2xvYmFsT2JqZWN0LlByb21pc2U7XG5cbiAgICAgICAgLy8gU29tZSBvZiB0aGVzZSBtZXRob2RzIGFyZSBtaXNzaW5nIGZyb21cbiAgICAgICAgLy8gRmlyZWZveC9DaHJvbWUgZXhwZXJpbWVudGFsIGltcGxlbWVudGF0aW9uc1xuICAgICAgICBpZiAoIVAuaGFzT3duUHJvcGVydHkoXCJyZXNvbHZlXCIpIHx8ICFQLmhhc093blByb3BlcnR5KFwicmVqZWN0XCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIVAuaGFzT3duUHJvcGVydHkoXCJhbGxcIikgfHwgIVAuaGFzT3duUHJvcGVydHkoXCJyYWNlXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPbGRlciB2ZXJzaW9uIG9mIHRoZSBzcGVjIGhhZCBhIHJlc29sdmVyIG9iamVjdFxuICAgICAgICAvLyBhcyB0aGUgYXJnIHJhdGhlciB0aGFuIGEgZnVuY3Rpb25cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyIHJlc29sdmUgPSB2b2lkIDA7XG5cbiAgICAgICAgICAgIHZhciBwID0gbmV3IGdsb2JhbE9iamVjdC5Qcm9taXNlKGZ1bmN0aW9uIChyKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSA9IHI7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNGdW5jdGlvbihyZXNvbHZlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KCk7XG4gICAgfSgpO1xuXG4gICAgLy8gRXhwb3J0IHRoZSBuYXRpdmUgUHJvbWlzZSBpbXBsZW1lbnRhdGlvbiBpZiBpdFxuICAgIC8vIGxvb2tzIGxpa2UgaXQgbWF0Y2hlcyB0aGUgc3BlY1xuICAgIGlmIChoYXNQcm9taXNlU3VwcG9ydCkge1xuICAgICAgICByZXR1cm4gZ2xvYmFsT2JqZWN0LlByb21pc2U7XG4gICAgfVxuXG4gICAgLy8gIE90aGVyd2lzZSwgcmV0dXJuIHRoZSBlczYtcHJvbWlzZSBwb2x5ZmlsbCBieSBAamFmZmF0aGVjYWtlLlxuICAgIHJldHVybiByZXF1aXJlKFwiZXM2LXByb21pc2VcIikuUHJvbWlzZTtcbn0oKTsiLCIvKiFcbiAqIEBvdmVydmlldyBlczYtcHJvbWlzZSAtIGEgdGlueSBpbXBsZW1lbnRhdGlvbiBvZiBQcm9taXNlcy9BKy5cbiAqIEBjb3B5cmlnaHQgQ29weXJpZ2h0IChjKSAyMDE0IFllaHVkYSBLYXR6LCBUb20gRGFsZSwgU3RlZmFuIFBlbm5lciBhbmQgY29udHJpYnV0b3JzIChDb252ZXJzaW9uIHRvIEVTNiBBUEkgYnkgSmFrZSBBcmNoaWJhbGQpXG4gKiBAbGljZW5zZSAgIExpY2Vuc2VkIHVuZGVyIE1JVCBsaWNlbnNlXG4gKiAgICAgICAgICAgIFNlZSBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vc3RlZmFucGVubmVyL2VzNi1wcm9taXNlL21hc3Rlci9MSUNFTlNFXG4gKiBAdmVyc2lvbiAgIHY0LjIuOCsxZTY4ZGNlNlxuICovXG5cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG5cdHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcblx0dHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcblx0KGdsb2JhbC5FUzZQcm9taXNlID0gZmFjdG9yeSgpKTtcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBvYmplY3RPckZ1bmN0aW9uKHgpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgeDtcbiAgcmV0dXJuIHggIT09IG51bGwgJiYgKHR5cGUgPT09ICdvYmplY3QnIHx8IHR5cGUgPT09ICdmdW5jdGlvbicpO1xufVxuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nO1xufVxuXG5cblxudmFyIF9pc0FycmF5ID0gdm9pZCAwO1xuaWYgKEFycmF5LmlzQXJyYXkpIHtcbiAgX2lzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xufSBlbHNlIHtcbiAgX2lzQXJyYXkgPSBmdW5jdGlvbiAoeCkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gIH07XG59XG5cbnZhciBpc0FycmF5ID0gX2lzQXJyYXk7XG5cbnZhciBsZW4gPSAwO1xudmFyIHZlcnR4TmV4dCA9IHZvaWQgMDtcbnZhciBjdXN0b21TY2hlZHVsZXJGbiA9IHZvaWQgMDtcblxudmFyIGFzYXAgPSBmdW5jdGlvbiBhc2FwKGNhbGxiYWNrLCBhcmcpIHtcbiAgcXVldWVbbGVuXSA9IGNhbGxiYWNrO1xuICBxdWV1ZVtsZW4gKyAxXSA9IGFyZztcbiAgbGVuICs9IDI7XG4gIGlmIChsZW4gPT09IDIpIHtcbiAgICAvLyBJZiBsZW4gaXMgMiwgdGhhdCBtZWFucyB0aGF0IHdlIG5lZWQgdG8gc2NoZWR1bGUgYW4gYXN5bmMgZmx1c2guXG4gICAgLy8gSWYgYWRkaXRpb25hbCBjYWxsYmFja3MgYXJlIHF1ZXVlZCBiZWZvcmUgdGhlIHF1ZXVlIGlzIGZsdXNoZWQsIHRoZXlcbiAgICAvLyB3aWxsIGJlIHByb2Nlc3NlZCBieSB0aGlzIGZsdXNoIHRoYXQgd2UgYXJlIHNjaGVkdWxpbmcuXG4gICAgaWYgKGN1c3RvbVNjaGVkdWxlckZuKSB7XG4gICAgICBjdXN0b21TY2hlZHVsZXJGbihmbHVzaCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjaGVkdWxlRmx1c2goKTtcbiAgICB9XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHNldFNjaGVkdWxlcihzY2hlZHVsZUZuKSB7XG4gIGN1c3RvbVNjaGVkdWxlckZuID0gc2NoZWR1bGVGbjtcbn1cblxuZnVuY3Rpb24gc2V0QXNhcChhc2FwRm4pIHtcbiAgYXNhcCA9IGFzYXBGbjtcbn1cblxudmFyIGJyb3dzZXJXaW5kb3cgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHVuZGVmaW5lZDtcbnZhciBicm93c2VyR2xvYmFsID0gYnJvd3NlcldpbmRvdyB8fCB7fTtcbnZhciBCcm93c2VyTXV0YXRpb25PYnNlcnZlciA9IGJyb3dzZXJHbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBicm93c2VyR2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7XG52YXIgaXNOb2RlID0gdHlwZW9mIHNlbGYgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKHByb2Nlc3MpID09PSAnW29iamVjdCBwcm9jZXNzXSc7XG5cbi8vIHRlc3QgZm9yIHdlYiB3b3JrZXIgYnV0IG5vdCBpbiBJRTEwXG52YXIgaXNXb3JrZXIgPSB0eXBlb2YgVWludDhDbGFtcGVkQXJyYXkgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBpbXBvcnRTY3JpcHRzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgTWVzc2FnZUNoYW5uZWwgIT09ICd1bmRlZmluZWQnO1xuXG4vLyBub2RlXG5mdW5jdGlvbiB1c2VOZXh0VGljaygpIHtcbiAgLy8gbm9kZSB2ZXJzaW9uIDAuMTAueCBkaXNwbGF5cyBhIGRlcHJlY2F0aW9uIHdhcm5pbmcgd2hlbiBuZXh0VGljayBpcyB1c2VkIHJlY3Vyc2l2ZWx5XG4gIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vY3Vqb2pzL3doZW4vaXNzdWVzLzQxMCBmb3IgZGV0YWlsc1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTtcbiAgfTtcbn1cblxuLy8gdmVydHhcbmZ1bmN0aW9uIHVzZVZlcnR4VGltZXIoKSB7XG4gIGlmICh0eXBlb2YgdmVydHhOZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB2ZXJ0eE5leHQoZmx1c2gpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gdXNlU2V0VGltZW91dCgpO1xufVxuXG5mdW5jdGlvbiB1c2VNdXRhdGlvbk9ic2VydmVyKCkge1xuICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gIHZhciBvYnNlcnZlciA9IG5ldyBCcm93c2VyTXV0YXRpb25PYnNlcnZlcihmbHVzaCk7XG4gIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICBvYnNlcnZlci5vYnNlcnZlKG5vZGUsIHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9KTtcblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIG5vZGUuZGF0YSA9IGl0ZXJhdGlvbnMgPSArK2l0ZXJhdGlvbnMgJSAyO1xuICB9O1xufVxuXG4vLyB3ZWIgd29ya2VyXG5mdW5jdGlvbiB1c2VNZXNzYWdlQ2hhbm5lbCgpIHtcbiAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmbHVzaDtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSgwKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlU2V0VGltZW91dCgpIHtcbiAgLy8gU3RvcmUgc2V0VGltZW91dCByZWZlcmVuY2Ugc28gZXM2LXByb21pc2Ugd2lsbCBiZSB1bmFmZmVjdGVkIGJ5XG4gIC8vIG90aGVyIGNvZGUgbW9kaWZ5aW5nIHNldFRpbWVvdXQgKGxpa2Ugc2lub24udXNlRmFrZVRpbWVycygpKVxuICB2YXIgZ2xvYmFsU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGdsb2JhbFNldFRpbWVvdXQoZmx1c2gsIDEpO1xuICB9O1xufVxuXG52YXIgcXVldWUgPSBuZXcgQXJyYXkoMTAwMCk7XG5mdW5jdGlvbiBmbHVzaCgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgIHZhciBjYWxsYmFjayA9IHF1ZXVlW2ldO1xuICAgIHZhciBhcmcgPSBxdWV1ZVtpICsgMV07XG5cbiAgICBjYWxsYmFjayhhcmcpO1xuXG4gICAgcXVldWVbaV0gPSB1bmRlZmluZWQ7XG4gICAgcXVldWVbaSArIDFdID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgbGVuID0gMDtcbn1cblxuZnVuY3Rpb24gYXR0ZW1wdFZlcnR4KCkge1xuICB0cnkge1xuICAgIHZhciB2ZXJ0eCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCkucmVxdWlyZSgndmVydHgnKTtcbiAgICB2ZXJ0eE5leHQgPSB2ZXJ0eC5ydW5Pbkxvb3AgfHwgdmVydHgucnVuT25Db250ZXh0O1xuICAgIHJldHVybiB1c2VWZXJ0eFRpbWVyKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdXNlU2V0VGltZW91dCgpO1xuICB9XG59XG5cbnZhciBzY2hlZHVsZUZsdXNoID0gdm9pZCAwO1xuLy8gRGVjaWRlIHdoYXQgYXN5bmMgbWV0aG9kIHRvIHVzZSB0byB0cmlnZ2VyaW5nIHByb2Nlc3Npbmcgb2YgcXVldWVkIGNhbGxiYWNrczpcbmlmIChpc05vZGUpIHtcbiAgc2NoZWR1bGVGbHVzaCA9IHVzZU5leHRUaWNrKCk7XG59IGVsc2UgaWYgKEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VNdXRhdGlvbk9ic2VydmVyKCk7XG59IGVsc2UgaWYgKGlzV29ya2VyKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VNZXNzYWdlQ2hhbm5lbCgpO1xufSBlbHNlIGlmIChicm93c2VyV2luZG93ID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIHJlcXVpcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgc2NoZWR1bGVGbHVzaCA9IGF0dGVtcHRWZXJ0eCgpO1xufSBlbHNlIHtcbiAgc2NoZWR1bGVGbHVzaCA9IHVzZVNldFRpbWVvdXQoKTtcbn1cblxuZnVuY3Rpb24gdGhlbihvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbikge1xuICB2YXIgcGFyZW50ID0gdGhpcztcblxuICB2YXIgY2hpbGQgPSBuZXcgdGhpcy5jb25zdHJ1Y3Rvcihub29wKTtcblxuICBpZiAoY2hpbGRbUFJPTUlTRV9JRF0gPT09IHVuZGVmaW5lZCkge1xuICAgIG1ha2VQcm9taXNlKGNoaWxkKTtcbiAgfVxuXG4gIHZhciBfc3RhdGUgPSBwYXJlbnQuX3N0YXRlO1xuXG5cbiAgaWYgKF9zdGF0ZSkge1xuICAgIHZhciBjYWxsYmFjayA9IGFyZ3VtZW50c1tfc3RhdGUgLSAxXTtcbiAgICBhc2FwKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBpbnZva2VDYWxsYmFjayhfc3RhdGUsIGNoaWxkLCBjYWxsYmFjaywgcGFyZW50Ll9yZXN1bHQpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHN1YnNjcmliZShwYXJlbnQsIGNoaWxkLCBvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbik7XG4gIH1cblxuICByZXR1cm4gY2hpbGQ7XG59XG5cbi8qKlxuICBgUHJvbWlzZS5yZXNvbHZlYCByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgYmVjb21lIHJlc29sdmVkIHdpdGggdGhlXG4gIHBhc3NlZCBgdmFsdWVgLiBJdCBpcyBzaG9ydGhhbmQgZm9yIHRoZSBmb2xsb3dpbmc6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgcmVzb2x2ZSgxKTtcbiAgfSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAvLyB2YWx1ZSA9PT0gMVxuICB9KTtcbiAgYGBgXG5cbiAgSW5zdGVhZCBvZiB3cml0aW5nIHRoZSBhYm92ZSwgeW91ciBjb2RlIG5vdyBzaW1wbHkgYmVjb21lcyB0aGUgZm9sbG93aW5nOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoMSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAvLyB2YWx1ZSA9PT0gMVxuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCByZXNvbHZlXG4gIEBzdGF0aWNcbiAgQHBhcmFtIHtBbnl9IHZhbHVlIHZhbHVlIHRoYXQgdGhlIHJldHVybmVkIHByb21pc2Ugd2lsbCBiZSByZXNvbHZlZCB3aXRoXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHRoYXQgd2lsbCBiZWNvbWUgZnVsZmlsbGVkIHdpdGggdGhlIGdpdmVuXG4gIGB2YWx1ZWBcbiovXG5mdW5jdGlvbiByZXNvbHZlJDEob2JqZWN0KSB7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG5cbiAgaWYgKG9iamVjdCAmJiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QuY29uc3RydWN0b3IgPT09IENvbnN0cnVjdG9yKSB7XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfVxuXG4gIHZhciBwcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKG5vb3ApO1xuICByZXNvbHZlKHByb21pc2UsIG9iamVjdCk7XG4gIHJldHVybiBwcm9taXNlO1xufVxuXG52YXIgUFJPTUlTRV9JRCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyKTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnZhciBQRU5ESU5HID0gdm9pZCAwO1xudmFyIEZVTEZJTExFRCA9IDE7XG52YXIgUkVKRUNURUQgPSAyO1xuXG5mdW5jdGlvbiBzZWxmRnVsZmlsbG1lbnQoKSB7XG4gIHJldHVybiBuZXcgVHlwZUVycm9yKFwiWW91IGNhbm5vdCByZXNvbHZlIGEgcHJvbWlzZSB3aXRoIGl0c2VsZlwiKTtcbn1cblxuZnVuY3Rpb24gY2Fubm90UmV0dXJuT3duKCkge1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcignQSBwcm9taXNlcyBjYWxsYmFjayBjYW5ub3QgcmV0dXJuIHRoYXQgc2FtZSBwcm9taXNlLicpO1xufVxuXG5mdW5jdGlvbiB0cnlUaGVuKHRoZW4kJDEsIHZhbHVlLCBmdWxmaWxsbWVudEhhbmRsZXIsIHJlamVjdGlvbkhhbmRsZXIpIHtcbiAgdHJ5IHtcbiAgICB0aGVuJCQxLmNhbGwodmFsdWUsIGZ1bGZpbGxtZW50SGFuZGxlciwgcmVqZWN0aW9uSGFuZGxlcik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVGb3JlaWduVGhlbmFibGUocHJvbWlzZSwgdGhlbmFibGUsIHRoZW4kJDEpIHtcbiAgYXNhcChmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgIHZhciBzZWFsZWQgPSBmYWxzZTtcbiAgICB2YXIgZXJyb3IgPSB0cnlUaGVuKHRoZW4kJDEsIHRoZW5hYmxlLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmIChzZWFsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2VhbGVkID0gdHJ1ZTtcbiAgICAgIGlmICh0aGVuYWJsZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICBpZiAoc2VhbGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlYWxlZCA9IHRydWU7XG5cbiAgICAgIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgIH0sICdTZXR0bGU6ICcgKyAocHJvbWlzZS5fbGFiZWwgfHwgJyB1bmtub3duIHByb21pc2UnKSk7XG5cbiAgICBpZiAoIXNlYWxlZCAmJiBlcnJvcikge1xuICAgICAgc2VhbGVkID0gdHJ1ZTtcbiAgICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgfVxuICB9LCBwcm9taXNlKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlT3duVGhlbmFibGUocHJvbWlzZSwgdGhlbmFibGUpIHtcbiAgaWYgKHRoZW5hYmxlLl9zdGF0ZSA9PT0gRlVMRklMTEVEKSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgfSBlbHNlIGlmICh0aGVuYWJsZS5fc3RhdGUgPT09IFJFSkVDVEVEKSB7XG4gICAgcmVqZWN0KHByb21pc2UsIHRoZW5hYmxlLl9yZXN1bHQpO1xuICB9IGVsc2Uge1xuICAgIHN1YnNjcmliZSh0aGVuYWJsZSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlTWF5YmVUaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlLCB0aGVuJCQxKSB7XG4gIGlmIChtYXliZVRoZW5hYmxlLmNvbnN0cnVjdG9yID09PSBwcm9taXNlLmNvbnN0cnVjdG9yICYmIHRoZW4kJDEgPT09IHRoZW4gJiYgbWF5YmVUaGVuYWJsZS5jb25zdHJ1Y3Rvci5yZXNvbHZlID09PSByZXNvbHZlJDEpIHtcbiAgICBoYW5kbGVPd25UaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodGhlbiQkMSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbih0aGVuJCQxKSkge1xuICAgICAgaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUsIHRoZW4kJDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZXNvbHZlKHByb21pc2UsIHZhbHVlKSB7XG4gIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBzZWxmRnVsZmlsbG1lbnQoKSk7XG4gIH0gZWxzZSBpZiAob2JqZWN0T3JGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICB2YXIgdGhlbiQkMSA9IHZvaWQgMDtcbiAgICB0cnkge1xuICAgICAgdGhlbiQkMSA9IHZhbHVlLnRoZW47XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUsIHRoZW4kJDEpO1xuICB9IGVsc2Uge1xuICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hSZWplY3Rpb24ocHJvbWlzZSkge1xuICBpZiAocHJvbWlzZS5fb25lcnJvcikge1xuICAgIHByb21pc2UuX29uZXJyb3IocHJvbWlzZS5fcmVzdWx0KTtcbiAgfVxuXG4gIHB1Ymxpc2gocHJvbWlzZSk7XG59XG5cbmZ1bmN0aW9uIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpIHtcbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcHJvbWlzZS5fcmVzdWx0ID0gdmFsdWU7XG4gIHByb21pc2UuX3N0YXRlID0gRlVMRklMTEVEO1xuXG4gIGlmIChwcm9taXNlLl9zdWJzY3JpYmVycy5sZW5ndGggIT09IDApIHtcbiAgICBhc2FwKHB1Ymxpc2gsIHByb21pc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlamVjdChwcm9taXNlLCByZWFzb24pIHtcbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHByb21pc2UuX3N0YXRlID0gUkVKRUNURUQ7XG4gIHByb21pc2UuX3Jlc3VsdCA9IHJlYXNvbjtcblxuICBhc2FwKHB1Ymxpc2hSZWplY3Rpb24sIHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgdmFyIF9zdWJzY3JpYmVycyA9IHBhcmVudC5fc3Vic2NyaWJlcnM7XG4gIHZhciBsZW5ndGggPSBfc3Vic2NyaWJlcnMubGVuZ3RoO1xuXG5cbiAgcGFyZW50Ll9vbmVycm9yID0gbnVsbDtcblxuICBfc3Vic2NyaWJlcnNbbGVuZ3RoXSA9IGNoaWxkO1xuICBfc3Vic2NyaWJlcnNbbGVuZ3RoICsgRlVMRklMTEVEXSA9IG9uRnVsZmlsbG1lbnQ7XG4gIF9zdWJzY3JpYmVyc1tsZW5ndGggKyBSRUpFQ1RFRF0gPSBvblJlamVjdGlvbjtcblxuICBpZiAobGVuZ3RoID09PSAwICYmIHBhcmVudC5fc3RhdGUpIHtcbiAgICBhc2FwKHB1Ymxpc2gsIHBhcmVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHVibGlzaChwcm9taXNlKSB7XG4gIHZhciBzdWJzY3JpYmVycyA9IHByb21pc2UuX3N1YnNjcmliZXJzO1xuICB2YXIgc2V0dGxlZCA9IHByb21pc2UuX3N0YXRlO1xuXG4gIGlmIChzdWJzY3JpYmVycy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgY2hpbGQgPSB2b2lkIDAsXG4gICAgICBjYWxsYmFjayA9IHZvaWQgMCxcbiAgICAgIGRldGFpbCA9IHByb21pc2UuX3Jlc3VsdDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN1YnNjcmliZXJzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgY2hpbGQgPSBzdWJzY3JpYmVyc1tpXTtcbiAgICBjYWxsYmFjayA9IHN1YnNjcmliZXJzW2kgKyBzZXR0bGVkXTtcblxuICAgIGlmIChjaGlsZCkge1xuICAgICAgaW52b2tlQ2FsbGJhY2soc2V0dGxlZCwgY2hpbGQsIGNhbGxiYWNrLCBkZXRhaWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayhkZXRhaWwpO1xuICAgIH1cbiAgfVxuXG4gIHByb21pc2UuX3N1YnNjcmliZXJzLmxlbmd0aCA9IDA7XG59XG5cbmZ1bmN0aW9uIGludm9rZUNhbGxiYWNrKHNldHRsZWQsIHByb21pc2UsIGNhbGxiYWNrLCBkZXRhaWwpIHtcbiAgdmFyIGhhc0NhbGxiYWNrID0gaXNGdW5jdGlvbihjYWxsYmFjayksXG4gICAgICB2YWx1ZSA9IHZvaWQgMCxcbiAgICAgIGVycm9yID0gdm9pZCAwLFxuICAgICAgc3VjY2VlZGVkID0gdHJ1ZTtcblxuICBpZiAoaGFzQ2FsbGJhY2spIHtcbiAgICB0cnkge1xuICAgICAgdmFsdWUgPSBjYWxsYmFjayhkZXRhaWwpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHN1Y2NlZWRlZCA9IGZhbHNlO1xuICAgICAgZXJyb3IgPSBlO1xuICAgIH1cblxuICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgICAgcmVqZWN0KHByb21pc2UsIGNhbm5vdFJldHVybk93bigpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSBkZXRhaWw7XG4gIH1cblxuICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICAvLyBub29wXG4gIH0gZWxzZSBpZiAoaGFzQ2FsbGJhY2sgJiYgc3VjY2VlZGVkKSB7XG4gICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoc3VjY2VlZGVkID09PSBmYWxzZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gRlVMRklMTEVEKSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gUkVKRUNURUQpIHtcbiAgICByZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGluaXRpYWxpemVQcm9taXNlKHByb21pc2UsIHJlc29sdmVyKSB7XG4gIHRyeSB7XG4gICAgcmVzb2x2ZXIoZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UodmFsdWUpIHtcbiAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uIHJlamVjdFByb21pc2UocmVhc29uKSB7XG4gICAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBlKTtcbiAgfVxufVxuXG52YXIgaWQgPSAwO1xuZnVuY3Rpb24gbmV4dElkKCkge1xuICByZXR1cm4gaWQrKztcbn1cblxuZnVuY3Rpb24gbWFrZVByb21pc2UocHJvbWlzZSkge1xuICBwcm9taXNlW1BST01JU0VfSURdID0gaWQrKztcbiAgcHJvbWlzZS5fc3RhdGUgPSB1bmRlZmluZWQ7XG4gIHByb21pc2UuX3Jlc3VsdCA9IHVuZGVmaW5lZDtcbiAgcHJvbWlzZS5fc3Vic2NyaWJlcnMgPSBbXTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGlvbkVycm9yKCkge1xuICByZXR1cm4gbmV3IEVycm9yKCdBcnJheSBNZXRob2RzIG11c3QgYmUgcHJvdmlkZWQgYW4gQXJyYXknKTtcbn1cblxudmFyIEVudW1lcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEVudW1lcmF0b3IoQ29uc3RydWN0b3IsIGlucHV0KSB7XG4gICAgdGhpcy5faW5zdGFuY2VDb25zdHJ1Y3RvciA9IENvbnN0cnVjdG9yO1xuICAgIHRoaXMucHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3Rvcihub29wKTtcblxuICAgIGlmICghdGhpcy5wcm9taXNlW1BST01JU0VfSURdKSB7XG4gICAgICBtYWtlUHJvbWlzZSh0aGlzLnByb21pc2UpO1xuICAgIH1cblxuICAgIGlmIChpc0FycmF5KGlucHV0KSkge1xuICAgICAgdGhpcy5sZW5ndGggPSBpbnB1dC5sZW5ndGg7XG4gICAgICB0aGlzLl9yZW1haW5pbmcgPSBpbnB1dC5sZW5ndGg7XG5cbiAgICAgIHRoaXMuX3Jlc3VsdCA9IG5ldyBBcnJheSh0aGlzLmxlbmd0aCk7XG5cbiAgICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBmdWxmaWxsKHRoaXMucHJvbWlzZSwgdGhpcy5fcmVzdWx0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gdGhpcy5sZW5ndGggfHwgMDtcbiAgICAgICAgdGhpcy5fZW51bWVyYXRlKGlucHV0KTtcbiAgICAgICAgaWYgKHRoaXMuX3JlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICAgIGZ1bGZpbGwodGhpcy5wcm9taXNlLCB0aGlzLl9yZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlamVjdCh0aGlzLnByb21pc2UsIHZhbGlkYXRpb25FcnJvcigpKTtcbiAgICB9XG4gIH1cblxuICBFbnVtZXJhdG9yLnByb3RvdHlwZS5fZW51bWVyYXRlID0gZnVuY3Rpb24gX2VudW1lcmF0ZShpbnB1dCkge1xuICAgIGZvciAodmFyIGkgPSAwOyB0aGlzLl9zdGF0ZSA9PT0gUEVORElORyAmJiBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuX2VhY2hFbnRyeShpbnB1dFtpXSwgaSk7XG4gICAgfVxuICB9O1xuXG4gIEVudW1lcmF0b3IucHJvdG90eXBlLl9lYWNoRW50cnkgPSBmdW5jdGlvbiBfZWFjaEVudHJ5KGVudHJ5LCBpKSB7XG4gICAgdmFyIGMgPSB0aGlzLl9pbnN0YW5jZUNvbnN0cnVjdG9yO1xuICAgIHZhciByZXNvbHZlJCQxID0gYy5yZXNvbHZlO1xuXG5cbiAgICBpZiAocmVzb2x2ZSQkMSA9PT0gcmVzb2x2ZSQxKSB7XG4gICAgICB2YXIgX3RoZW4gPSB2b2lkIDA7XG4gICAgICB2YXIgZXJyb3IgPSB2b2lkIDA7XG4gICAgICB2YXIgZGlkRXJyb3IgPSBmYWxzZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIF90aGVuID0gZW50cnkudGhlbjtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZGlkRXJyb3IgPSB0cnVlO1xuICAgICAgICBlcnJvciA9IGU7XG4gICAgICB9XG5cbiAgICAgIGlmIChfdGhlbiA9PT0gdGhlbiAmJiBlbnRyeS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICAgICAgdGhpcy5fc2V0dGxlZEF0KGVudHJ5Ll9zdGF0ZSwgaSwgZW50cnkuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBfdGhlbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLl9yZW1haW5pbmctLTtcbiAgICAgICAgdGhpcy5fcmVzdWx0W2ldID0gZW50cnk7XG4gICAgICB9IGVsc2UgaWYgKGMgPT09IFByb21pc2UkMSkge1xuICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBjKG5vb3ApO1xuICAgICAgICBpZiAoZGlkRXJyb3IpIHtcbiAgICAgICAgICByZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgZW50cnksIF90aGVuKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl93aWxsU2V0dGxlQXQocHJvbWlzZSwgaSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl93aWxsU2V0dGxlQXQobmV3IGMoZnVuY3Rpb24gKHJlc29sdmUkJDEpIHtcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZSQkMShlbnRyeSk7XG4gICAgICAgIH0pLCBpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KHJlc29sdmUkJDEoZW50cnkpLCBpKTtcbiAgICB9XG4gIH07XG5cbiAgRW51bWVyYXRvci5wcm90b3R5cGUuX3NldHRsZWRBdCA9IGZ1bmN0aW9uIF9zZXR0bGVkQXQoc3RhdGUsIGksIHZhbHVlKSB7XG4gICAgdmFyIHByb21pc2UgPSB0aGlzLnByb21pc2U7XG5cblxuICAgIGlmIChwcm9taXNlLl9zdGF0ZSA9PT0gUEVORElORykge1xuICAgICAgdGhpcy5fcmVtYWluaW5nLS07XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gUkVKRUNURUQpIHtcbiAgICAgICAgcmVqZWN0KHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3Jlc3VsdFtpXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICAgIGZ1bGZpbGwocHJvbWlzZSwgdGhpcy5fcmVzdWx0KTtcbiAgICB9XG4gIH07XG5cbiAgRW51bWVyYXRvci5wcm90b3R5cGUuX3dpbGxTZXR0bGVBdCA9IGZ1bmN0aW9uIF93aWxsU2V0dGxlQXQocHJvbWlzZSwgaSkge1xuICAgIHZhciBlbnVtZXJhdG9yID0gdGhpcztcblxuICAgIHN1YnNjcmliZShwcm9taXNlLCB1bmRlZmluZWQsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGVudW1lcmF0b3IuX3NldHRsZWRBdChGVUxGSUxMRUQsIGksIHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICByZXR1cm4gZW51bWVyYXRvci5fc2V0dGxlZEF0KFJFSkVDVEVELCBpLCByZWFzb24pO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBFbnVtZXJhdG9yO1xufSgpO1xuXG4vKipcbiAgYFByb21pc2UuYWxsYCBhY2NlcHRzIGFuIGFycmF5IG9mIHByb21pc2VzLCBhbmQgcmV0dXJucyBhIG5ldyBwcm9taXNlIHdoaWNoXG4gIGlzIGZ1bGZpbGxlZCB3aXRoIGFuIGFycmF5IG9mIGZ1bGZpbGxtZW50IHZhbHVlcyBmb3IgdGhlIHBhc3NlZCBwcm9taXNlcywgb3JcbiAgcmVqZWN0ZWQgd2l0aCB0aGUgcmVhc29uIG9mIHRoZSBmaXJzdCBwYXNzZWQgcHJvbWlzZSB0byBiZSByZWplY3RlZC4gSXQgY2FzdHMgYWxsXG4gIGVsZW1lbnRzIG9mIHRoZSBwYXNzZWQgaXRlcmFibGUgdG8gcHJvbWlzZXMgYXMgaXQgcnVucyB0aGlzIGFsZ29yaXRobS5cblxuICBFeGFtcGxlOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gcmVzb2x2ZSgxKTtcbiAgbGV0IHByb21pc2UyID0gcmVzb2x2ZSgyKTtcbiAgbGV0IHByb21pc2UzID0gcmVzb2x2ZSgzKTtcbiAgbGV0IHByb21pc2VzID0gWyBwcm9taXNlMSwgcHJvbWlzZTIsIHByb21pc2UzIF07XG5cbiAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oYXJyYXkpe1xuICAgIC8vIFRoZSBhcnJheSBoZXJlIHdvdWxkIGJlIFsgMSwgMiwgMyBdO1xuICB9KTtcbiAgYGBgXG5cbiAgSWYgYW55IG9mIHRoZSBgcHJvbWlzZXNgIGdpdmVuIHRvIGBhbGxgIGFyZSByZWplY3RlZCwgdGhlIGZpcnN0IHByb21pc2VcbiAgdGhhdCBpcyByZWplY3RlZCB3aWxsIGJlIGdpdmVuIGFzIGFuIGFyZ3VtZW50IHRvIHRoZSByZXR1cm5lZCBwcm9taXNlcydzXG4gIHJlamVjdGlvbiBoYW5kbGVyLiBGb3IgZXhhbXBsZTpcblxuICBFeGFtcGxlOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gcmVzb2x2ZSgxKTtcbiAgbGV0IHByb21pc2UyID0gcmVqZWN0KG5ldyBFcnJvcihcIjJcIikpO1xuICBsZXQgcHJvbWlzZTMgPSByZWplY3QobmV3IEVycm9yKFwiM1wiKSk7XG4gIGxldCBwcm9taXNlcyA9IFsgcHJvbWlzZTEsIHByb21pc2UyLCBwcm9taXNlMyBdO1xuXG4gIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKGFycmF5KXtcbiAgICAvLyBDb2RlIGhlcmUgbmV2ZXIgcnVucyBiZWNhdXNlIHRoZXJlIGFyZSByZWplY3RlZCBwcm9taXNlcyFcbiAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAvLyBlcnJvci5tZXNzYWdlID09PSBcIjJcIlxuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCBhbGxcbiAgQHN0YXRpY1xuICBAcGFyYW0ge0FycmF5fSBlbnRyaWVzIGFycmF5IG9mIHByb21pc2VzXG4gIEBwYXJhbSB7U3RyaW5nfSBsYWJlbCBvcHRpb25hbCBzdHJpbmcgZm9yIGxhYmVsaW5nIHRoZSBwcm9taXNlLlxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiBhbGwgYHByb21pc2VzYCBoYXZlIGJlZW5cbiAgZnVsZmlsbGVkLCBvciByZWplY3RlZCBpZiBhbnkgb2YgdGhlbSBiZWNvbWUgcmVqZWN0ZWQuXG4gIEBzdGF0aWNcbiovXG5mdW5jdGlvbiBhbGwoZW50cmllcykge1xuICByZXR1cm4gbmV3IEVudW1lcmF0b3IodGhpcywgZW50cmllcykucHJvbWlzZTtcbn1cblxuLyoqXG4gIGBQcm9taXNlLnJhY2VgIHJldHVybnMgYSBuZXcgcHJvbWlzZSB3aGljaCBpcyBzZXR0bGVkIGluIHRoZSBzYW1lIHdheSBhcyB0aGVcbiAgZmlyc3QgcGFzc2VkIHByb21pc2UgdG8gc2V0dGxlLlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZTEgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJlc29sdmUoJ3Byb21pc2UgMScpO1xuICAgIH0sIDIwMCk7XG4gIH0pO1xuXG4gIGxldCBwcm9taXNlMiA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcmVzb2x2ZSgncHJvbWlzZSAyJyk7XG4gICAgfSwgMTAwKTtcbiAgfSk7XG5cbiAgUHJvbWlzZS5yYWNlKFtwcm9taXNlMSwgcHJvbWlzZTJdKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgLy8gcmVzdWx0ID09PSAncHJvbWlzZSAyJyBiZWNhdXNlIGl0IHdhcyByZXNvbHZlZCBiZWZvcmUgcHJvbWlzZTFcbiAgICAvLyB3YXMgcmVzb2x2ZWQuXG4gIH0pO1xuICBgYGBcblxuICBgUHJvbWlzZS5yYWNlYCBpcyBkZXRlcm1pbmlzdGljIGluIHRoYXQgb25seSB0aGUgc3RhdGUgb2YgdGhlIGZpcnN0XG4gIHNldHRsZWQgcHJvbWlzZSBtYXR0ZXJzLiBGb3IgZXhhbXBsZSwgZXZlbiBpZiBvdGhlciBwcm9taXNlcyBnaXZlbiB0byB0aGVcbiAgYHByb21pc2VzYCBhcnJheSBhcmd1bWVudCBhcmUgcmVzb2x2ZWQsIGJ1dCB0aGUgZmlyc3Qgc2V0dGxlZCBwcm9taXNlIGhhc1xuICBiZWNvbWUgcmVqZWN0ZWQgYmVmb3JlIHRoZSBvdGhlciBwcm9taXNlcyBiZWNhbWUgZnVsZmlsbGVkLCB0aGUgcmV0dXJuZWRcbiAgcHJvbWlzZSB3aWxsIGJlY29tZSByZWplY3RlZDpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcmVzb2x2ZSgncHJvbWlzZSAxJyk7XG4gICAgfSwgMjAwKTtcbiAgfSk7XG5cbiAgbGV0IHByb21pc2UyID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZWplY3QobmV3IEVycm9yKCdwcm9taXNlIDInKSk7XG4gICAgfSwgMTAwKTtcbiAgfSk7XG5cbiAgUHJvbWlzZS5yYWNlKFtwcm9taXNlMSwgcHJvbWlzZTJdKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgLy8gQ29kZSBoZXJlIG5ldmVyIHJ1bnNcbiAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gJ3Byb21pc2UgMicgYmVjYXVzZSBwcm9taXNlIDIgYmVjYW1lIHJlamVjdGVkIGJlZm9yZVxuICAgIC8vIHByb21pc2UgMSBiZWNhbWUgZnVsZmlsbGVkXG4gIH0pO1xuICBgYGBcblxuICBBbiBleGFtcGxlIHJlYWwtd29ybGQgdXNlIGNhc2UgaXMgaW1wbGVtZW50aW5nIHRpbWVvdXRzOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgUHJvbWlzZS5yYWNlKFthamF4KCdmb28uanNvbicpLCB0aW1lb3V0KDUwMDApXSlcbiAgYGBgXG5cbiAgQG1ldGhvZCByYWNlXG4gIEBzdGF0aWNcbiAgQHBhcmFtIHtBcnJheX0gcHJvbWlzZXMgYXJyYXkgb2YgcHJvbWlzZXMgdG8gb2JzZXJ2ZVxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSB3aGljaCBzZXR0bGVzIGluIHRoZSBzYW1lIHdheSBhcyB0aGUgZmlyc3QgcGFzc2VkXG4gIHByb21pc2UgdG8gc2V0dGxlLlxuKi9cbmZ1bmN0aW9uIHJhY2UoZW50cmllcykge1xuICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuXG4gIGlmICghaXNBcnJheShlbnRyaWVzKSkge1xuICAgIHJldHVybiBuZXcgQ29uc3RydWN0b3IoZnVuY3Rpb24gKF8sIHJlamVjdCkge1xuICAgICAgcmV0dXJuIHJlamVjdChuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIHJhY2UuJykpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgQ29uc3RydWN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGVudHJpZXMubGVuZ3RoO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBDb25zdHJ1Y3Rvci5yZXNvbHZlKGVudHJpZXNbaV0pLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAgYFByb21pc2UucmVqZWN0YCByZXR1cm5zIGEgcHJvbWlzZSByZWplY3RlZCB3aXRoIHRoZSBwYXNzZWQgYHJlYXNvbmAuXG4gIEl0IGlzIHNob3J0aGFuZCBmb3IgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICByZWplY3QobmV3IEVycm9yKCdXSE9PUFMnKSk7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09ICdXSE9PUFMnXG4gIH0pO1xuICBgYGBcblxuICBJbnN0ZWFkIG9mIHdyaXRpbmcgdGhlIGFib3ZlLCB5b3VyIGNvZGUgbm93IHNpbXBseSBiZWNvbWVzIHRoZSBmb2xsb3dpbmc6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZSA9IFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignV0hPT1BTJykpO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09ICdXSE9PUFMnXG4gIH0pO1xuICBgYGBcblxuICBAbWV0aG9kIHJlamVjdFxuICBAc3RhdGljXG4gIEBwYXJhbSB7QW55fSByZWFzb24gdmFsdWUgdGhhdCB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIHdpdGguXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHJlamVjdGVkIHdpdGggdGhlIGdpdmVuIGByZWFzb25gLlxuKi9cbmZ1bmN0aW9uIHJlamVjdCQxKHJlYXNvbikge1xuICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3Rvcihub29wKTtcbiAgcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBuZWVkc1Jlc29sdmVyKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGEgcmVzb2x2ZXIgZnVuY3Rpb24gYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBwcm9taXNlIGNvbnN0cnVjdG9yJyk7XG59XG5cbmZ1bmN0aW9uIG5lZWRzTmV3KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUHJvbWlzZSc6IFBsZWFzZSB1c2UgdGhlICduZXcnIG9wZXJhdG9yLCB0aGlzIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xufVxuXG4vKipcbiAgUHJvbWlzZSBvYmplY3RzIHJlcHJlc2VudCB0aGUgZXZlbnR1YWwgcmVzdWx0IG9mIGFuIGFzeW5jaHJvbm91cyBvcGVyYXRpb24uIFRoZVxuICBwcmltYXJ5IHdheSBvZiBpbnRlcmFjdGluZyB3aXRoIGEgcHJvbWlzZSBpcyB0aHJvdWdoIGl0cyBgdGhlbmAgbWV0aG9kLCB3aGljaFxuICByZWdpc3RlcnMgY2FsbGJhY2tzIHRvIHJlY2VpdmUgZWl0aGVyIGEgcHJvbWlzZSdzIGV2ZW50dWFsIHZhbHVlIG9yIHRoZSByZWFzb25cbiAgd2h5IHRoZSBwcm9taXNlIGNhbm5vdCBiZSBmdWxmaWxsZWQuXG5cbiAgVGVybWlub2xvZ3lcbiAgLS0tLS0tLS0tLS1cblxuICAtIGBwcm9taXNlYCBpcyBhbiBvYmplY3Qgb3IgZnVuY3Rpb24gd2l0aCBhIGB0aGVuYCBtZXRob2Qgd2hvc2UgYmVoYXZpb3IgY29uZm9ybXMgdG8gdGhpcyBzcGVjaWZpY2F0aW9uLlxuICAtIGB0aGVuYWJsZWAgaXMgYW4gb2JqZWN0IG9yIGZ1bmN0aW9uIHRoYXQgZGVmaW5lcyBhIGB0aGVuYCBtZXRob2QuXG4gIC0gYHZhbHVlYCBpcyBhbnkgbGVnYWwgSmF2YVNjcmlwdCB2YWx1ZSAoaW5jbHVkaW5nIHVuZGVmaW5lZCwgYSB0aGVuYWJsZSwgb3IgYSBwcm9taXNlKS5cbiAgLSBgZXhjZXB0aW9uYCBpcyBhIHZhbHVlIHRoYXQgaXMgdGhyb3duIHVzaW5nIHRoZSB0aHJvdyBzdGF0ZW1lbnQuXG4gIC0gYHJlYXNvbmAgaXMgYSB2YWx1ZSB0aGF0IGluZGljYXRlcyB3aHkgYSBwcm9taXNlIHdhcyByZWplY3RlZC5cbiAgLSBgc2V0dGxlZGAgdGhlIGZpbmFsIHJlc3Rpbmcgc3RhdGUgb2YgYSBwcm9taXNlLCBmdWxmaWxsZWQgb3IgcmVqZWN0ZWQuXG5cbiAgQSBwcm9taXNlIGNhbiBiZSBpbiBvbmUgb2YgdGhyZWUgc3RhdGVzOiBwZW5kaW5nLCBmdWxmaWxsZWQsIG9yIHJlamVjdGVkLlxuXG4gIFByb21pc2VzIHRoYXQgYXJlIGZ1bGZpbGxlZCBoYXZlIGEgZnVsZmlsbG1lbnQgdmFsdWUgYW5kIGFyZSBpbiB0aGUgZnVsZmlsbGVkXG4gIHN0YXRlLiAgUHJvbWlzZXMgdGhhdCBhcmUgcmVqZWN0ZWQgaGF2ZSBhIHJlamVjdGlvbiByZWFzb24gYW5kIGFyZSBpbiB0aGVcbiAgcmVqZWN0ZWQgc3RhdGUuICBBIGZ1bGZpbGxtZW50IHZhbHVlIGlzIG5ldmVyIGEgdGhlbmFibGUuXG5cbiAgUHJvbWlzZXMgY2FuIGFsc28gYmUgc2FpZCB0byAqcmVzb2x2ZSogYSB2YWx1ZS4gIElmIHRoaXMgdmFsdWUgaXMgYWxzbyBhXG4gIHByb21pc2UsIHRoZW4gdGhlIG9yaWdpbmFsIHByb21pc2UncyBzZXR0bGVkIHN0YXRlIHdpbGwgbWF0Y2ggdGhlIHZhbHVlJ3NcbiAgc2V0dGxlZCBzdGF0ZS4gIFNvIGEgcHJvbWlzZSB0aGF0ICpyZXNvbHZlcyogYSBwcm9taXNlIHRoYXQgcmVqZWN0cyB3aWxsXG4gIGl0c2VsZiByZWplY3QsIGFuZCBhIHByb21pc2UgdGhhdCAqcmVzb2x2ZXMqIGEgcHJvbWlzZSB0aGF0IGZ1bGZpbGxzIHdpbGxcbiAgaXRzZWxmIGZ1bGZpbGwuXG5cblxuICBCYXNpYyBVc2FnZTpcbiAgLS0tLS0tLS0tLS0tXG5cbiAgYGBganNcbiAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAvLyBvbiBzdWNjZXNzXG4gICAgcmVzb2x2ZSh2YWx1ZSk7XG5cbiAgICAvLyBvbiBmYWlsdXJlXG4gICAgcmVqZWN0KHJlYXNvbik7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgIC8vIG9uIGZ1bGZpbGxtZW50XG4gIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIC8vIG9uIHJlamVjdGlvblxuICB9KTtcbiAgYGBgXG5cbiAgQWR2YW5jZWQgVXNhZ2U6XG4gIC0tLS0tLS0tLS0tLS0tLVxuXG4gIFByb21pc2VzIHNoaW5lIHdoZW4gYWJzdHJhY3RpbmcgYXdheSBhc3luY2hyb25vdXMgaW50ZXJhY3Rpb25zIHN1Y2ggYXNcbiAgYFhNTEh0dHBSZXF1ZXN0YHMuXG5cbiAgYGBganNcbiAgZnVuY3Rpb24gZ2V0SlNPTih1cmwpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICAgIGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgICAgeGhyLm9wZW4oJ0dFVCcsIHVybCk7XG4gICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gaGFuZGxlcjtcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnanNvbic7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgIHhoci5zZW5kKCk7XG5cbiAgICAgIGZ1bmN0aW9uIGhhbmRsZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IHRoaXMuRE9ORSkge1xuICAgICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICByZXNvbHZlKHRoaXMucmVzcG9uc2UpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdnZXRKU09OOiBgJyArIHVybCArICdgIGZhaWxlZCB3aXRoIHN0YXR1czogWycgKyB0aGlzLnN0YXR1cyArICddJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldEpTT04oJy9wb3N0cy5qc29uJykudGhlbihmdW5jdGlvbihqc29uKSB7XG4gICAgLy8gb24gZnVsZmlsbG1lbnRcbiAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgLy8gb24gcmVqZWN0aW9uXG4gIH0pO1xuICBgYGBcblxuICBVbmxpa2UgY2FsbGJhY2tzLCBwcm9taXNlcyBhcmUgZ3JlYXQgY29tcG9zYWJsZSBwcmltaXRpdmVzLlxuXG4gIGBgYGpzXG4gIFByb21pc2UuYWxsKFtcbiAgICBnZXRKU09OKCcvcG9zdHMnKSxcbiAgICBnZXRKU09OKCcvY29tbWVudHMnKVxuICBdKS50aGVuKGZ1bmN0aW9uKHZhbHVlcyl7XG4gICAgdmFsdWVzWzBdIC8vID0+IHBvc3RzSlNPTlxuICAgIHZhbHVlc1sxXSAvLyA9PiBjb21tZW50c0pTT05cblxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH0pO1xuICBgYGBcblxuICBAY2xhc3MgUHJvbWlzZVxuICBAcGFyYW0ge0Z1bmN0aW9ufSByZXNvbHZlclxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEBjb25zdHJ1Y3RvclxuKi9cblxudmFyIFByb21pc2UkMSA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUHJvbWlzZShyZXNvbHZlcikge1xuICAgIHRoaXNbUFJPTUlTRV9JRF0gPSBuZXh0SWQoKTtcbiAgICB0aGlzLl9yZXN1bHQgPSB0aGlzLl9zdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9zdWJzY3JpYmVycyA9IFtdO1xuXG4gICAgaWYgKG5vb3AgIT09IHJlc29sdmVyKSB7XG4gICAgICB0eXBlb2YgcmVzb2x2ZXIgIT09ICdmdW5jdGlvbicgJiYgbmVlZHNSZXNvbHZlcigpO1xuICAgICAgdGhpcyBpbnN0YW5jZW9mIFByb21pc2UgPyBpbml0aWFsaXplUHJvbWlzZSh0aGlzLCByZXNvbHZlcikgOiBuZWVkc05ldygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICBUaGUgcHJpbWFyeSB3YXkgb2YgaW50ZXJhY3Rpbmcgd2l0aCBhIHByb21pc2UgaXMgdGhyb3VnaCBpdHMgYHRoZW5gIG1ldGhvZCxcbiAgd2hpY2ggcmVnaXN0ZXJzIGNhbGxiYWNrcyB0byByZWNlaXZlIGVpdGhlciBhIHByb21pc2UncyBldmVudHVhbCB2YWx1ZSBvciB0aGVcbiAgcmVhc29uIHdoeSB0aGUgcHJvbWlzZSBjYW5ub3QgYmUgZnVsZmlsbGVkLlxuICAgYGBganNcbiAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uKHVzZXIpe1xuICAgIC8vIHVzZXIgaXMgYXZhaWxhYmxlXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gdXNlciBpcyB1bmF2YWlsYWJsZSwgYW5kIHlvdSBhcmUgZ2l2ZW4gdGhlIHJlYXNvbiB3aHlcbiAgfSk7XG4gIGBgYFxuICAgQ2hhaW5pbmdcbiAgLS0tLS0tLS1cbiAgIFRoZSByZXR1cm4gdmFsdWUgb2YgYHRoZW5gIGlzIGl0c2VsZiBhIHByb21pc2UuICBUaGlzIHNlY29uZCwgJ2Rvd25zdHJlYW0nXG4gIHByb21pc2UgaXMgcmVzb2x2ZWQgd2l0aCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBmaXJzdCBwcm9taXNlJ3MgZnVsZmlsbG1lbnRcbiAgb3IgcmVqZWN0aW9uIGhhbmRsZXIsIG9yIHJlamVjdGVkIGlmIHRoZSBoYW5kbGVyIHRocm93cyBhbiBleGNlcHRpb24uXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICByZXR1cm4gdXNlci5uYW1lO1xuICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgcmV0dXJuICdkZWZhdWx0IG5hbWUnO1xuICB9KS50aGVuKGZ1bmN0aW9uICh1c2VyTmFtZSkge1xuICAgIC8vIElmIGBmaW5kVXNlcmAgZnVsZmlsbGVkLCBgdXNlck5hbWVgIHdpbGwgYmUgdGhlIHVzZXIncyBuYW1lLCBvdGhlcndpc2UgaXRcbiAgICAvLyB3aWxsIGJlIGAnZGVmYXVsdCBuYW1lJ2BcbiAgfSk7XG4gICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZvdW5kIHVzZXIsIGJ1dCBzdGlsbCB1bmhhcHB5Jyk7XG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2BmaW5kVXNlcmAgcmVqZWN0ZWQgYW5kIHdlJ3JlIHVuaGFwcHknKTtcbiAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAvLyBuZXZlciByZWFjaGVkXG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAvLyBpZiBgZmluZFVzZXJgIGZ1bGZpbGxlZCwgYHJlYXNvbmAgd2lsbCBiZSAnRm91bmQgdXNlciwgYnV0IHN0aWxsIHVuaGFwcHknLlxuICAgIC8vIElmIGBmaW5kVXNlcmAgcmVqZWN0ZWQsIGByZWFzb25gIHdpbGwgYmUgJ2BmaW5kVXNlcmAgcmVqZWN0ZWQgYW5kIHdlJ3JlIHVuaGFwcHknLlxuICB9KTtcbiAgYGBgXG4gIElmIHRoZSBkb3duc3RyZWFtIHByb21pc2UgZG9lcyBub3Qgc3BlY2lmeSBhIHJlamVjdGlvbiBoYW5kbGVyLCByZWplY3Rpb24gcmVhc29ucyB3aWxsIGJlIHByb3BhZ2F0ZWQgZnVydGhlciBkb3duc3RyZWFtLlxuICAgYGBganNcbiAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgdGhyb3cgbmV3IFBlZGFnb2dpY2FsRXhjZXB0aW9uKCdVcHN0cmVhbSBlcnJvcicpO1xuICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAvLyBuZXZlciByZWFjaGVkXG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAvLyBUaGUgYFBlZGdhZ29jaWFsRXhjZXB0aW9uYCBpcyBwcm9wYWdhdGVkIGFsbCB0aGUgd2F5IGRvd24gdG8gaGVyZVxuICB9KTtcbiAgYGBgXG4gICBBc3NpbWlsYXRpb25cbiAgLS0tLS0tLS0tLS0tXG4gICBTb21ldGltZXMgdGhlIHZhbHVlIHlvdSB3YW50IHRvIHByb3BhZ2F0ZSB0byBhIGRvd25zdHJlYW0gcHJvbWlzZSBjYW4gb25seSBiZVxuICByZXRyaWV2ZWQgYXN5bmNocm9ub3VzbHkuIFRoaXMgY2FuIGJlIGFjaGlldmVkIGJ5IHJldHVybmluZyBhIHByb21pc2UgaW4gdGhlXG4gIGZ1bGZpbGxtZW50IG9yIHJlamVjdGlvbiBoYW5kbGVyLiBUaGUgZG93bnN0cmVhbSBwcm9taXNlIHdpbGwgdGhlbiBiZSBwZW5kaW5nXG4gIHVudGlsIHRoZSByZXR1cm5lZCBwcm9taXNlIGlzIHNldHRsZWQuIFRoaXMgaXMgY2FsbGVkICphc3NpbWlsYXRpb24qLlxuICAgYGBganNcbiAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgcmV0dXJuIGZpbmRDb21tZW50c0J5QXV0aG9yKHVzZXIpO1xuICB9KS50aGVuKGZ1bmN0aW9uIChjb21tZW50cykge1xuICAgIC8vIFRoZSB1c2VyJ3MgY29tbWVudHMgYXJlIG5vdyBhdmFpbGFibGVcbiAgfSk7XG4gIGBgYFxuICAgSWYgdGhlIGFzc2ltbGlhdGVkIHByb21pc2UgcmVqZWN0cywgdGhlbiB0aGUgZG93bnN0cmVhbSBwcm9taXNlIHdpbGwgYWxzbyByZWplY3QuXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICByZXR1cm4gZmluZENvbW1lbnRzQnlBdXRob3IodXNlcik7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKGNvbW1lbnRzKSB7XG4gICAgLy8gSWYgYGZpbmRDb21tZW50c0J5QXV0aG9yYCBmdWxmaWxscywgd2UnbGwgaGF2ZSB0aGUgdmFsdWUgaGVyZVxuICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgLy8gSWYgYGZpbmRDb21tZW50c0J5QXV0aG9yYCByZWplY3RzLCB3ZSdsbCBoYXZlIHRoZSByZWFzb24gaGVyZVxuICB9KTtcbiAgYGBgXG4gICBTaW1wbGUgRXhhbXBsZVxuICAtLS0tLS0tLS0tLS0tLVxuICAgU3luY2hyb25vdXMgRXhhbXBsZVxuICAgYGBgamF2YXNjcmlwdFxuICBsZXQgcmVzdWx0O1xuICAgdHJ5IHtcbiAgICByZXN1bHQgPSBmaW5kUmVzdWx0KCk7XG4gICAgLy8gc3VjY2Vzc1xuICB9IGNhdGNoKHJlYXNvbikge1xuICAgIC8vIGZhaWx1cmVcbiAgfVxuICBgYGBcbiAgIEVycmJhY2sgRXhhbXBsZVxuICAgYGBganNcbiAgZmluZFJlc3VsdChmdW5jdGlvbihyZXN1bHQsIGVycil7XG4gICAgaWYgKGVycikge1xuICAgICAgLy8gZmFpbHVyZVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzdWNjZXNzXG4gICAgfVxuICB9KTtcbiAgYGBgXG4gICBQcm9taXNlIEV4YW1wbGU7XG4gICBgYGBqYXZhc2NyaXB0XG4gIGZpbmRSZXN1bHQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgLy8gc3VjY2Vzc1xuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIGZhaWx1cmVcbiAgfSk7XG4gIGBgYFxuICAgQWR2YW5jZWQgRXhhbXBsZVxuICAtLS0tLS0tLS0tLS0tLVxuICAgU3luY2hyb25vdXMgRXhhbXBsZVxuICAgYGBgamF2YXNjcmlwdFxuICBsZXQgYXV0aG9yLCBib29rcztcbiAgIHRyeSB7XG4gICAgYXV0aG9yID0gZmluZEF1dGhvcigpO1xuICAgIGJvb2tzICA9IGZpbmRCb29rc0J5QXV0aG9yKGF1dGhvcik7XG4gICAgLy8gc3VjY2Vzc1xuICB9IGNhdGNoKHJlYXNvbikge1xuICAgIC8vIGZhaWx1cmVcbiAgfVxuICBgYGBcbiAgIEVycmJhY2sgRXhhbXBsZVxuICAgYGBganNcbiAgIGZ1bmN0aW9uIGZvdW5kQm9va3MoYm9va3MpIHtcbiAgIH1cbiAgIGZ1bmN0aW9uIGZhaWx1cmUocmVhc29uKSB7XG4gICB9XG4gICBmaW5kQXV0aG9yKGZ1bmN0aW9uKGF1dGhvciwgZXJyKXtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBmYWlsdXJlKGVycik7XG4gICAgICAvLyBmYWlsdXJlXG4gICAgfSBlbHNlIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZpbmRCb29va3NCeUF1dGhvcihhdXRob3IsIGZ1bmN0aW9uKGJvb2tzLCBlcnIpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICBmYWlsdXJlKGVycik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGZvdW5kQm9va3MoYm9va3MpO1xuICAgICAgICAgICAgfSBjYXRjaChyZWFzb24pIHtcbiAgICAgICAgICAgICAgZmFpbHVyZShyZWFzb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoKGVycm9yKSB7XG4gICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgIH1cbiAgICAgIC8vIHN1Y2Nlc3NcbiAgICB9XG4gIH0pO1xuICBgYGBcbiAgIFByb21pc2UgRXhhbXBsZTtcbiAgIGBgYGphdmFzY3JpcHRcbiAgZmluZEF1dGhvcigpLlxuICAgIHRoZW4oZmluZEJvb2tzQnlBdXRob3IpLlxuICAgIHRoZW4oZnVuY3Rpb24oYm9va3Mpe1xuICAgICAgLy8gZm91bmQgYm9va3NcbiAgfSkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICB9KTtcbiAgYGBgXG4gICBAbWV0aG9kIHRoZW5cbiAgQHBhcmFtIHtGdW5jdGlvbn0gb25GdWxmaWxsZWRcbiAgQHBhcmFtIHtGdW5jdGlvbn0gb25SZWplY3RlZFxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9XG4gICovXG5cbiAgLyoqXG4gIGBjYXRjaGAgaXMgc2ltcGx5IHN1Z2FyIGZvciBgdGhlbih1bmRlZmluZWQsIG9uUmVqZWN0aW9uKWAgd2hpY2ggbWFrZXMgaXQgdGhlIHNhbWVcbiAgYXMgdGhlIGNhdGNoIGJsb2NrIG9mIGEgdHJ5L2NhdGNoIHN0YXRlbWVudC5cbiAgYGBganNcbiAgZnVuY3Rpb24gZmluZEF1dGhvcigpe1xuICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkbid0IGZpbmQgdGhhdCBhdXRob3InKTtcbiAgfVxuICAvLyBzeW5jaHJvbm91c1xuICB0cnkge1xuICBmaW5kQXV0aG9yKCk7XG4gIH0gY2F0Y2gocmVhc29uKSB7XG4gIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gIH1cbiAgLy8gYXN5bmMgd2l0aCBwcm9taXNlc1xuICBmaW5kQXV0aG9yKCkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtcbiAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgfSk7XG4gIGBgYFxuICBAbWV0aG9kIGNhdGNoXG4gIEBwYXJhbSB7RnVuY3Rpb259IG9uUmVqZWN0aW9uXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX1cbiAgKi9cblxuXG4gIFByb21pc2UucHJvdG90eXBlLmNhdGNoID0gZnVuY3Rpb24gX2NhdGNoKG9uUmVqZWN0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGlvbik7XG4gIH07XG5cbiAgLyoqXG4gICAgYGZpbmFsbHlgIHdpbGwgYmUgaW52b2tlZCByZWdhcmRsZXNzIG9mIHRoZSBwcm9taXNlJ3MgZmF0ZSBqdXN0IGFzIG5hdGl2ZVxuICAgIHRyeS9jYXRjaC9maW5hbGx5IGJlaGF2ZXNcbiAgXG4gICAgU3luY2hyb25vdXMgZXhhbXBsZTpcbiAgXG4gICAgYGBganNcbiAgICBmaW5kQXV0aG9yKCkge1xuICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPiAwLjUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEF1dGhvcigpO1xuICAgIH1cbiAgXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmaW5kQXV0aG9yKCk7IC8vIHN1Y2NlZWQgb3IgZmFpbFxuICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgIHJldHVybiBmaW5kT3RoZXJBdXRoZXIoKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgLy8gYWx3YXlzIHJ1bnNcbiAgICAgIC8vIGRvZXNuJ3QgYWZmZWN0IHRoZSByZXR1cm4gdmFsdWVcbiAgICB9XG4gICAgYGBgXG4gIFxuICAgIEFzeW5jaHJvbm91cyBleGFtcGxlOlxuICBcbiAgICBgYGBqc1xuICAgIGZpbmRBdXRob3IoKS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAgICAgcmV0dXJuIGZpbmRPdGhlckF1dGhlcigpO1xuICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24oKXtcbiAgICAgIC8vIGF1dGhvciB3YXMgZWl0aGVyIGZvdW5kLCBvciBub3RcbiAgICB9KTtcbiAgICBgYGBcbiAgXG4gICAgQG1ldGhvZCBmaW5hbGx5XG4gICAgQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICBAcmV0dXJuIHtQcm9taXNlfVxuICAqL1xuXG5cbiAgUHJvbWlzZS5wcm90b3R5cGUuZmluYWxseSA9IGZ1bmN0aW9uIF9maW5hbGx5KGNhbGxiYWNrKSB7XG4gICAgdmFyIHByb21pc2UgPSB0aGlzO1xuICAgIHZhciBjb25zdHJ1Y3RvciA9IHByb21pc2UuY29uc3RydWN0b3I7XG5cbiAgICBpZiAoaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcbiAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3Rvci5yZXNvbHZlKGNhbGxiYWNrKCkpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3Rvci5yZXNvbHZlKGNhbGxiYWNrKCkpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRocm93IHJlYXNvbjtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKGNhbGxiYWNrLCBjYWxsYmFjayk7XG4gIH07XG5cbiAgcmV0dXJuIFByb21pc2U7XG59KCk7XG5cblByb21pc2UkMS5wcm90b3R5cGUudGhlbiA9IHRoZW47XG5Qcm9taXNlJDEuYWxsID0gYWxsO1xuUHJvbWlzZSQxLnJhY2UgPSByYWNlO1xuUHJvbWlzZSQxLnJlc29sdmUgPSByZXNvbHZlJDE7XG5Qcm9taXNlJDEucmVqZWN0ID0gcmVqZWN0JDE7XG5Qcm9taXNlJDEuX3NldFNjaGVkdWxlciA9IHNldFNjaGVkdWxlcjtcblByb21pc2UkMS5fc2V0QXNhcCA9IHNldEFzYXA7XG5Qcm9taXNlJDEuX2FzYXAgPSBhc2FwO1xuXG4vKmdsb2JhbCBzZWxmKi9cbmZ1bmN0aW9uIHBvbHlmaWxsKCkge1xuICB2YXIgbG9jYWwgPSB2b2lkIDA7XG5cbiAgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbG9jYWwgPSBnbG9iYWw7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbG9jYWwgPSBzZWxmO1xuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb2x5ZmlsbCBmYWlsZWQgYmVjYXVzZSBnbG9iYWwgb2JqZWN0IGlzIHVuYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQnKTtcbiAgICB9XG4gIH1cblxuICB2YXIgUCA9IGxvY2FsLlByb21pc2U7XG5cbiAgaWYgKFApIHtcbiAgICB2YXIgcHJvbWlzZVRvU3RyaW5nID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgcHJvbWlzZVRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFAucmVzb2x2ZSgpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBzaWxlbnRseSBpZ25vcmVkXG4gICAgfVxuXG4gICAgaWYgKHByb21pc2VUb1N0cmluZyA9PT0gJ1tvYmplY3QgUHJvbWlzZV0nICYmICFQLmNhc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBsb2NhbC5Qcm9taXNlID0gUHJvbWlzZSQxO1xufVxuXG4vLyBTdHJhbmdlIGNvbXBhdC4uXG5Qcm9taXNlJDEucG9seWZpbGwgPSBwb2x5ZmlsbDtcblByb21pc2UkMS5Qcm9taXNlID0gUHJvbWlzZSQxO1xuXG5yZXR1cm4gUHJvbWlzZSQxO1xuXG59KSkpO1xuXG5cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXM2LXByb21pc2UubWFwXG4iLCIvKipcbiAqIERldGVjdCBFbGVjdHJvbiByZW5kZXJlciAvIG53anMgcHJvY2Vzcywgd2hpY2ggaXMgbm9kZSwgYnV0IHdlIHNob3VsZFxuICogdHJlYXQgYXMgYSBicm93c2VyLlxuICovXG5cbmlmICh0eXBlb2YgcHJvY2VzcyA9PT0gJ3VuZGVmaW5lZCcgfHwgcHJvY2Vzcy50eXBlID09PSAncmVuZGVyZXInIHx8IHByb2Nlc3MuYnJvd3NlciA9PT0gdHJ1ZSB8fCBwcm9jZXNzLl9fbndqcykge1xuXHRtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vYnJvd3Nlci5qcycpO1xufSBlbHNlIHtcblx0bW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL25vZGUuanMnKTtcbn1cbiIsIi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xuXG4vKipcbiAqIFRoaXMgaXMgdGhlIHdlYiBicm93c2VyIGltcGxlbWVudGF0aW9uIG9mIGBkZWJ1ZygpYC5cbiAqL1xuXG5leHBvcnRzLmxvZyA9IGxvZztcbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gbG9jYWxzdG9yYWdlKCk7XG5cbi8qKlxuICogQ29sb3JzLlxuICovXG5cbmV4cG9ydHMuY29sb3JzID0gW1xuXHQnIzAwMDBDQycsXG5cdCcjMDAwMEZGJyxcblx0JyMwMDMzQ0MnLFxuXHQnIzAwMzNGRicsXG5cdCcjMDA2NkNDJyxcblx0JyMwMDY2RkYnLFxuXHQnIzAwOTlDQycsXG5cdCcjMDA5OUZGJyxcblx0JyMwMENDMDAnLFxuXHQnIzAwQ0MzMycsXG5cdCcjMDBDQzY2Jyxcblx0JyMwMENDOTknLFxuXHQnIzAwQ0NDQycsXG5cdCcjMDBDQ0ZGJyxcblx0JyMzMzAwQ0MnLFxuXHQnIzMzMDBGRicsXG5cdCcjMzMzM0NDJyxcblx0JyMzMzMzRkYnLFxuXHQnIzMzNjZDQycsXG5cdCcjMzM2NkZGJyxcblx0JyMzMzk5Q0MnLFxuXHQnIzMzOTlGRicsXG5cdCcjMzNDQzAwJyxcblx0JyMzM0NDMzMnLFxuXHQnIzMzQ0M2NicsXG5cdCcjMzNDQzk5Jyxcblx0JyMzM0NDQ0MnLFxuXHQnIzMzQ0NGRicsXG5cdCcjNjYwMENDJyxcblx0JyM2NjAwRkYnLFxuXHQnIzY2MzNDQycsXG5cdCcjNjYzM0ZGJyxcblx0JyM2NkNDMDAnLFxuXHQnIzY2Q0MzMycsXG5cdCcjOTkwMENDJyxcblx0JyM5OTAwRkYnLFxuXHQnIzk5MzNDQycsXG5cdCcjOTkzM0ZGJyxcblx0JyM5OUNDMDAnLFxuXHQnIzk5Q0MzMycsXG5cdCcjQ0MwMDAwJyxcblx0JyNDQzAwMzMnLFxuXHQnI0NDMDA2NicsXG5cdCcjQ0MwMDk5Jyxcblx0JyNDQzAwQ0MnLFxuXHQnI0NDMDBGRicsXG5cdCcjQ0MzMzAwJyxcblx0JyNDQzMzMzMnLFxuXHQnI0NDMzM2NicsXG5cdCcjQ0MzMzk5Jyxcblx0JyNDQzMzQ0MnLFxuXHQnI0NDMzNGRicsXG5cdCcjQ0M2NjAwJyxcblx0JyNDQzY2MzMnLFxuXHQnI0NDOTkwMCcsXG5cdCcjQ0M5OTMzJyxcblx0JyNDQ0NDMDAnLFxuXHQnI0NDQ0MzMycsXG5cdCcjRkYwMDAwJyxcblx0JyNGRjAwMzMnLFxuXHQnI0ZGMDA2NicsXG5cdCcjRkYwMDk5Jyxcblx0JyNGRjAwQ0MnLFxuXHQnI0ZGMDBGRicsXG5cdCcjRkYzMzAwJyxcblx0JyNGRjMzMzMnLFxuXHQnI0ZGMzM2NicsXG5cdCcjRkYzMzk5Jyxcblx0JyNGRjMzQ0MnLFxuXHQnI0ZGMzNGRicsXG5cdCcjRkY2NjAwJyxcblx0JyNGRjY2MzMnLFxuXHQnI0ZGOTkwMCcsXG5cdCcjRkY5OTMzJyxcblx0JyNGRkNDMDAnLFxuXHQnI0ZGQ0MzMydcbl07XG5cbi8qKlxuICogQ3VycmVudGx5IG9ubHkgV2ViS2l0LWJhc2VkIFdlYiBJbnNwZWN0b3JzLCBGaXJlZm94ID49IHYzMSxcbiAqIGFuZCB0aGUgRmlyZWJ1ZyBleHRlbnNpb24gKGFueSBGaXJlZm94IHZlcnNpb24pIGFyZSBrbm93blxuICogdG8gc3VwcG9ydCBcIiVjXCIgQ1NTIGN1c3RvbWl6YXRpb25zLlxuICpcbiAqIFRPRE86IGFkZCBhIGBsb2NhbFN0b3JhZ2VgIHZhcmlhYmxlIHRvIGV4cGxpY2l0bHkgZW5hYmxlL2Rpc2FibGUgY29sb3JzXG4gKi9cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcblx0Ly8gTkI6IEluIGFuIEVsZWN0cm9uIHByZWxvYWQgc2NyaXB0LCBkb2N1bWVudCB3aWxsIGJlIGRlZmluZWQgYnV0IG5vdCBmdWxseVxuXHQvLyBpbml0aWFsaXplZC4gU2luY2Ugd2Uga25vdyB3ZSdyZSBpbiBDaHJvbWUsIHdlJ2xsIGp1c3QgZGV0ZWN0IHRoaXMgY2FzZVxuXHQvLyBleHBsaWNpdGx5XG5cdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2VzcyAmJiAod2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJyB8fCB3aW5kb3cucHJvY2Vzcy5fX253anMpKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBJbnRlcm5ldCBFeHBsb3JlciBhbmQgRWRnZSBkbyBub3Qgc3VwcG9ydCBjb2xvcnMuXG5cdGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvKGVkZ2V8dHJpZGVudClcXC8oXFxkKykvKSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8vIElzIHdlYmtpdD8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY0NTk2MDYvMzc2NzczXG5cdC8vIGRvY3VtZW50IGlzIHVuZGVmaW5lZCBpbiByZWFjdC1uYXRpdmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvcHVsbC8xNjMyXG5cdHJldHVybiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlKSB8fFxuXHRcdC8vIElzIGZpcmVidWc/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM5ODEyMC8zNzY3NzNcblx0XHQodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLmZpcmVidWcgfHwgKHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiAmJiB3aW5kb3cuY29uc29sZS50YWJsZSkpKSB8fFxuXHRcdC8vIElzIGZpcmVmb3ggPj0gdjMxP1xuXHRcdC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvVG9vbHMvV2ViX0NvbnNvbGUjU3R5bGluZ19tZXNzYWdlc1xuXHRcdCh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvZmlyZWZveFxcLyhcXGQrKS8pICYmIHBhcnNlSW50KFJlZ0V4cC4kMSwgMTApID49IDMxKSB8fFxuXHRcdC8vIERvdWJsZSBjaGVjayB3ZWJraXQgaW4gdXNlckFnZW50IGp1c3QgaW4gY2FzZSB3ZSBhcmUgaW4gYSB3b3JrZXJcblx0XHQodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2FwcGxld2Via2l0XFwvKFxcZCspLykpO1xufVxuXG4vKipcbiAqIENvbG9yaXplIGxvZyBhcmd1bWVudHMgaWYgZW5hYmxlZC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGZvcm1hdEFyZ3MoYXJncykge1xuXHRhcmdzWzBdID0gKHRoaXMudXNlQ29sb3JzID8gJyVjJyA6ICcnKSArXG5cdFx0dGhpcy5uYW1lc3BhY2UgK1xuXHRcdCh0aGlzLnVzZUNvbG9ycyA/ICcgJWMnIDogJyAnKSArXG5cdFx0YXJnc1swXSArXG5cdFx0KHRoaXMudXNlQ29sb3JzID8gJyVjICcgOiAnICcpICtcblx0XHQnKycgKyBtb2R1bGUuZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpO1xuXG5cdGlmICghdGhpcy51c2VDb2xvcnMpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRjb25zdCBjID0gJ2NvbG9yOiAnICsgdGhpcy5jb2xvcjtcblx0YXJncy5zcGxpY2UoMSwgMCwgYywgJ2NvbG9yOiBpbmhlcml0Jyk7XG5cblx0Ly8gVGhlIGZpbmFsIFwiJWNcIiBpcyBzb21ld2hhdCB0cmlja3ksIGJlY2F1c2UgdGhlcmUgY291bGQgYmUgb3RoZXJcblx0Ly8gYXJndW1lbnRzIHBhc3NlZCBlaXRoZXIgYmVmb3JlIG9yIGFmdGVyIHRoZSAlYywgc28gd2UgbmVlZCB0b1xuXHQvLyBmaWd1cmUgb3V0IHRoZSBjb3JyZWN0IGluZGV4IHRvIGluc2VydCB0aGUgQ1NTIGludG9cblx0bGV0IGluZGV4ID0gMDtcblx0bGV0IGxhc3RDID0gMDtcblx0YXJnc1swXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csIG1hdGNoID0+IHtcblx0XHRpZiAobWF0Y2ggPT09ICclJScpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aW5kZXgrKztcblx0XHRpZiAobWF0Y2ggPT09ICclYycpIHtcblx0XHRcdC8vIFdlIG9ubHkgYXJlIGludGVyZXN0ZWQgaW4gdGhlICpsYXN0KiAlY1xuXHRcdFx0Ly8gKHRoZSB1c2VyIG1heSBoYXZlIHByb3ZpZGVkIHRoZWlyIG93bilcblx0XHRcdGxhc3RDID0gaW5kZXg7XG5cdFx0fVxuXHR9KTtcblxuXHRhcmdzLnNwbGljZShsYXN0QywgMCwgYyk7XG59XG5cbi8qKlxuICogSW52b2tlcyBgY29uc29sZS5sb2coKWAgd2hlbiBhdmFpbGFibGUuXG4gKiBOby1vcCB3aGVuIGBjb25zb2xlLmxvZ2AgaXMgbm90IGEgXCJmdW5jdGlvblwiLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cbmZ1bmN0aW9uIGxvZyguLi5hcmdzKSB7XG5cdC8vIFRoaXMgaGFja2VyeSBpcyByZXF1aXJlZCBmb3IgSUU4LzksIHdoZXJlXG5cdC8vIHRoZSBgY29uc29sZS5sb2dgIGZ1bmN0aW9uIGRvZXNuJ3QgaGF2ZSAnYXBwbHknXG5cdHJldHVybiB0eXBlb2YgY29uc29sZSA9PT0gJ29iamVjdCcgJiZcblx0XHRjb25zb2xlLmxvZyAmJlxuXHRcdGNvbnNvbGUubG9nKC4uLmFyZ3MpO1xufVxuXG4vKipcbiAqIFNhdmUgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7XG5cdHRyeSB7XG5cdFx0aWYgKG5hbWVzcGFjZXMpIHtcblx0XHRcdGV4cG9ydHMuc3RvcmFnZS5zZXRJdGVtKCdkZWJ1ZycsIG5hbWVzcGFjZXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRleHBvcnRzLnN0b3JhZ2UucmVtb3ZlSXRlbSgnZGVidWcnKTtcblx0XHR9XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Ly8gU3dhbGxvd1xuXHRcdC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuXHR9XG59XG5cbi8qKlxuICogTG9hZCBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSByZXR1cm5zIHRoZSBwcmV2aW91c2x5IHBlcnNpc3RlZCBkZWJ1ZyBtb2Rlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGxvYWQoKSB7XG5cdGxldCByO1xuXHR0cnkge1xuXHRcdHIgPSBleHBvcnRzLnN0b3JhZ2UuZ2V0SXRlbSgnZGVidWcnKTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHQvLyBTd2FsbG93XG5cdFx0Ly8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG5cdH1cblxuXHQvLyBJZiBkZWJ1ZyBpc24ndCBzZXQgaW4gTFMsIGFuZCB3ZSdyZSBpbiBFbGVjdHJvbiwgdHJ5IHRvIGxvYWQgJERFQlVHXG5cdGlmICghciAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ2VudicgaW4gcHJvY2Vzcykge1xuXHRcdHIgPSBwcm9jZXNzLmVudi5ERUJVRztcblx0fVxuXG5cdHJldHVybiByO1xufVxuXG4vKipcbiAqIExvY2Fsc3RvcmFnZSBhdHRlbXB0cyB0byByZXR1cm4gdGhlIGxvY2Fsc3RvcmFnZS5cbiAqXG4gKiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHNhZmFyaSB0aHJvd3NcbiAqIHdoZW4gYSB1c2VyIGRpc2FibGVzIGNvb2tpZXMvbG9jYWxzdG9yYWdlXG4gKiBhbmQgeW91IGF0dGVtcHQgdG8gYWNjZXNzIGl0LlxuICpcbiAqIEByZXR1cm4ge0xvY2FsU3RvcmFnZX1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvY2Fsc3RvcmFnZSgpIHtcblx0dHJ5IHtcblx0XHQvLyBUVk1MS2l0IChBcHBsZSBUViBKUyBSdW50aW1lKSBkb2VzIG5vdCBoYXZlIGEgd2luZG93IG9iamVjdCwganVzdCBsb2NhbFN0b3JhZ2UgaW4gdGhlIGdsb2JhbCBjb250ZXh0XG5cdFx0Ly8gVGhlIEJyb3dzZXIgYWxzbyBoYXMgbG9jYWxTdG9yYWdlIGluIHRoZSBnbG9iYWwgY29udGV4dC5cblx0XHRyZXR1cm4gbG9jYWxTdG9yYWdlO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFN3YWxsb3dcblx0XHQvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY29tbW9uJykoZXhwb3J0cyk7XG5cbmNvbnN0IHtmb3JtYXR0ZXJzfSA9IG1vZHVsZS5leHBvcnRzO1xuXG4vKipcbiAqIE1hcCAlaiB0byBgSlNPTi5zdHJpbmdpZnkoKWAsIHNpbmNlIG5vIFdlYiBJbnNwZWN0b3JzIGRvIHRoYXQgYnkgZGVmYXVsdC5cbiAqL1xuXG5mb3JtYXR0ZXJzLmogPSBmdW5jdGlvbiAodikge1xuXHR0cnkge1xuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4gJ1tVbmV4cGVjdGVkSlNPTlBhcnNlRXJyb3JdOiAnICsgZXJyb3IubWVzc2FnZTtcblx0fVxufTtcbiIsIi8qKlxuICogSGVscGVycy5cbiAqL1xuXG52YXIgcyA9IDEwMDA7XG52YXIgbSA9IHMgKiA2MDtcbnZhciBoID0gbSAqIDYwO1xudmFyIGQgPSBoICogMjQ7XG52YXIgdyA9IGQgKiA3O1xudmFyIHkgPSBkICogMzY1LjI1O1xuXG4vKipcbiAqIFBhcnNlIG9yIGZvcm1hdCB0aGUgZ2l2ZW4gYHZhbGAuXG4gKlxuICogT3B0aW9uczpcbiAqXG4gKiAgLSBgbG9uZ2AgdmVyYm9zZSBmb3JtYXR0aW5nIFtmYWxzZV1cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IHZhbFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHRocm93cyB7RXJyb3J9IHRocm93IGFuIGVycm9yIGlmIHZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgbnVtYmVyXG4gKiBAcmV0dXJuIHtTdHJpbmd8TnVtYmVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHZhbCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsO1xuICBpZiAodHlwZSA9PT0gJ3N0cmluZycgJiYgdmFsLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gcGFyc2UodmFsKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZSh2YWwpKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMubG9uZyA/IGZtdExvbmcodmFsKSA6IGZtdFNob3J0KHZhbCk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgICd2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIHZhbGlkIG51bWJlci4gdmFsPScgK1xuICAgICAgSlNPTi5zdHJpbmdpZnkodmFsKVxuICApO1xufTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gYHN0cmAgYW5kIHJldHVybiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2Uoc3RyKSB7XG4gIHN0ciA9IFN0cmluZyhzdHIpO1xuICBpZiAoc3RyLmxlbmd0aCA+IDEwMCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbWF0Y2ggPSAvXigtPyg/OlxcZCspP1xcLj9cXGQrKSAqKG1pbGxpc2Vjb25kcz98bXNlY3M/fG1zfHNlY29uZHM/fHNlY3M/fHN8bWludXRlcz98bWlucz98bXxob3Vycz98aHJzP3xofGRheXM/fGR8d2Vla3M/fHd8eWVhcnM/fHlycz98eSk/JC9pLmV4ZWMoXG4gICAgc3RyXG4gICk7XG4gIGlmICghbWF0Y2gpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG4gPSBwYXJzZUZsb2F0KG1hdGNoWzFdKTtcbiAgdmFyIHR5cGUgPSAobWF0Y2hbMl0gfHwgJ21zJykudG9Mb3dlckNhc2UoKTtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAneWVhcnMnOlxuICAgIGNhc2UgJ3llYXInOlxuICAgIGNhc2UgJ3lycyc6XG4gICAgY2FzZSAneXInOlxuICAgIGNhc2UgJ3knOlxuICAgICAgcmV0dXJuIG4gKiB5O1xuICAgIGNhc2UgJ3dlZWtzJzpcbiAgICBjYXNlICd3ZWVrJzpcbiAgICBjYXNlICd3JzpcbiAgICAgIHJldHVybiBuICogdztcbiAgICBjYXNlICdkYXlzJzpcbiAgICBjYXNlICdkYXknOlxuICAgIGNhc2UgJ2QnOlxuICAgICAgcmV0dXJuIG4gKiBkO1xuICAgIGNhc2UgJ2hvdXJzJzpcbiAgICBjYXNlICdob3VyJzpcbiAgICBjYXNlICdocnMnOlxuICAgIGNhc2UgJ2hyJzpcbiAgICBjYXNlICdoJzpcbiAgICAgIHJldHVybiBuICogaDtcbiAgICBjYXNlICdtaW51dGVzJzpcbiAgICBjYXNlICdtaW51dGUnOlxuICAgIGNhc2UgJ21pbnMnOlxuICAgIGNhc2UgJ21pbic6XG4gICAgY2FzZSAnbSc6XG4gICAgICByZXR1cm4gbiAqIG07XG4gICAgY2FzZSAnc2Vjb25kcyc6XG4gICAgY2FzZSAnc2Vjb25kJzpcbiAgICBjYXNlICdzZWNzJzpcbiAgICBjYXNlICdzZWMnOlxuICAgIGNhc2UgJ3MnOlxuICAgICAgcmV0dXJuIG4gKiBzO1xuICAgIGNhc2UgJ21pbGxpc2Vjb25kcyc6XG4gICAgY2FzZSAnbWlsbGlzZWNvbmQnOlxuICAgIGNhc2UgJ21zZWNzJzpcbiAgICBjYXNlICdtc2VjJzpcbiAgICBjYXNlICdtcyc6XG4gICAgICByZXR1cm4gbjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuXG4vKipcbiAqIFNob3J0IGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdFNob3J0KG1zKSB7XG4gIHZhciBtc0FicyA9IE1hdGguYWJzKG1zKTtcbiAgaWYgKG1zQWJzID49IGQpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGQpICsgJ2QnO1xuICB9XG4gIGlmIChtc0FicyA+PSBoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBoKSArICdoJztcbiAgfVxuICBpZiAobXNBYnMgPj0gbSkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbSkgKyAnbSc7XG4gIH1cbiAgaWYgKG1zQWJzID49IHMpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIHMpICsgJ3MnO1xuICB9XG4gIHJldHVybiBtcyArICdtcyc7XG59XG5cbi8qKlxuICogTG9uZyBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRMb25nKG1zKSB7XG4gIHZhciBtc0FicyA9IE1hdGguYWJzKG1zKTtcbiAgaWYgKG1zQWJzID49IGQpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgZCwgJ2RheScpO1xuICB9XG4gIGlmIChtc0FicyA+PSBoKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIGgsICdob3VyJyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IG0pIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgbSwgJ21pbnV0ZScpO1xuICB9XG4gIGlmIChtc0FicyA+PSBzKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIHMsICdzZWNvbmQnKTtcbiAgfVxuICByZXR1cm4gbXMgKyAnIG1zJztcbn1cblxuLyoqXG4gKiBQbHVyYWxpemF0aW9uIGhlbHBlci5cbiAqL1xuXG5mdW5jdGlvbiBwbHVyYWwobXMsIG1zQWJzLCBuLCBuYW1lKSB7XG4gIHZhciBpc1BsdXJhbCA9IG1zQWJzID49IG4gKiAxLjU7XG4gIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbikgKyAnICcgKyBuYW1lICsgKGlzUGx1cmFsID8gJ3MnIDogJycpO1xufVxuIiwiLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbmNvbnN0IHR0eSA9IHJlcXVpcmUoJ3R0eScpO1xuY29uc3QgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKTtcblxuLyoqXG4gKiBUaGlzIGlzIHRoZSBOb2RlLmpzIGltcGxlbWVudGF0aW9uIG9mIGBkZWJ1ZygpYC5cbiAqL1xuXG5leHBvcnRzLmluaXQgPSBpbml0O1xuZXhwb3J0cy5sb2cgPSBsb2c7XG5leHBvcnRzLmZvcm1hdEFyZ3MgPSBmb3JtYXRBcmdzO1xuZXhwb3J0cy5zYXZlID0gc2F2ZTtcbmV4cG9ydHMubG9hZCA9IGxvYWQ7XG5leHBvcnRzLnVzZUNvbG9ycyA9IHVzZUNvbG9ycztcblxuLyoqXG4gKiBDb2xvcnMuXG4gKi9cblxuZXhwb3J0cy5jb2xvcnMgPSBbNiwgMiwgMywgNCwgNSwgMV07XG5cbnRyeSB7XG5cdC8vIE9wdGlvbmFsIGRlcGVuZGVuY3kgKGFzIGluLCBkb2Vzbid0IG5lZWQgdG8gYmUgaW5zdGFsbGVkLCBOT1QgbGlrZSBvcHRpb25hbERlcGVuZGVuY2llcyBpbiBwYWNrYWdlLmpzb24pXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tZXh0cmFuZW91cy1kZXBlbmRlbmNpZXNcblx0Y29uc3Qgc3VwcG9ydHNDb2xvciA9IHJlcXVpcmUoJ3N1cHBvcnRzLWNvbG9yJyk7XG5cblx0aWYgKHN1cHBvcnRzQ29sb3IgJiYgKHN1cHBvcnRzQ29sb3Iuc3RkZXJyIHx8IHN1cHBvcnRzQ29sb3IpLmxldmVsID49IDIpIHtcblx0XHRleHBvcnRzLmNvbG9ycyA9IFtcblx0XHRcdDIwLFxuXHRcdFx0MjEsXG5cdFx0XHQyNixcblx0XHRcdDI3LFxuXHRcdFx0MzIsXG5cdFx0XHQzMyxcblx0XHRcdDM4LFxuXHRcdFx0MzksXG5cdFx0XHQ0MCxcblx0XHRcdDQxLFxuXHRcdFx0NDIsXG5cdFx0XHQ0Myxcblx0XHRcdDQ0LFxuXHRcdFx0NDUsXG5cdFx0XHQ1Nixcblx0XHRcdDU3LFxuXHRcdFx0NjIsXG5cdFx0XHQ2Myxcblx0XHRcdDY4LFxuXHRcdFx0NjksXG5cdFx0XHQ3NCxcblx0XHRcdDc1LFxuXHRcdFx0NzYsXG5cdFx0XHQ3Nyxcblx0XHRcdDc4LFxuXHRcdFx0NzksXG5cdFx0XHQ4MCxcblx0XHRcdDgxLFxuXHRcdFx0OTIsXG5cdFx0XHQ5Myxcblx0XHRcdDk4LFxuXHRcdFx0OTksXG5cdFx0XHQxMTIsXG5cdFx0XHQxMTMsXG5cdFx0XHQxMjgsXG5cdFx0XHQxMjksXG5cdFx0XHQxMzQsXG5cdFx0XHQxMzUsXG5cdFx0XHQxNDgsXG5cdFx0XHQxNDksXG5cdFx0XHQxNjAsXG5cdFx0XHQxNjEsXG5cdFx0XHQxNjIsXG5cdFx0XHQxNjMsXG5cdFx0XHQxNjQsXG5cdFx0XHQxNjUsXG5cdFx0XHQxNjYsXG5cdFx0XHQxNjcsXG5cdFx0XHQxNjgsXG5cdFx0XHQxNjksXG5cdFx0XHQxNzAsXG5cdFx0XHQxNzEsXG5cdFx0XHQxNzIsXG5cdFx0XHQxNzMsXG5cdFx0XHQxNzgsXG5cdFx0XHQxNzksXG5cdFx0XHQxODQsXG5cdFx0XHQxODUsXG5cdFx0XHQxOTYsXG5cdFx0XHQxOTcsXG5cdFx0XHQxOTgsXG5cdFx0XHQxOTksXG5cdFx0XHQyMDAsXG5cdFx0XHQyMDEsXG5cdFx0XHQyMDIsXG5cdFx0XHQyMDMsXG5cdFx0XHQyMDQsXG5cdFx0XHQyMDUsXG5cdFx0XHQyMDYsXG5cdFx0XHQyMDcsXG5cdFx0XHQyMDgsXG5cdFx0XHQyMDksXG5cdFx0XHQyMTQsXG5cdFx0XHQyMTUsXG5cdFx0XHQyMjAsXG5cdFx0XHQyMjFcblx0XHRdO1xuXHR9XG59IGNhdGNoIChlcnJvcikge1xuXHQvLyBTd2FsbG93IC0gd2Ugb25seSBjYXJlIGlmIGBzdXBwb3J0cy1jb2xvcmAgaXMgYXZhaWxhYmxlOyBpdCBkb2Vzbid0IGhhdmUgdG8gYmUuXG59XG5cbi8qKlxuICogQnVpbGQgdXAgdGhlIGRlZmF1bHQgYGluc3BlY3RPcHRzYCBvYmplY3QgZnJvbSB0aGUgZW52aXJvbm1lbnQgdmFyaWFibGVzLlxuICpcbiAqICAgJCBERUJVR19DT0xPUlM9bm8gREVCVUdfREVQVEg9MTAgREVCVUdfU0hPV19ISURERU49ZW5hYmxlZCBub2RlIHNjcmlwdC5qc1xuICovXG5cbmV4cG9ydHMuaW5zcGVjdE9wdHMgPSBPYmplY3Qua2V5cyhwcm9jZXNzLmVudikuZmlsdGVyKGtleSA9PiB7XG5cdHJldHVybiAvXmRlYnVnXy9pLnRlc3Qoa2V5KTtcbn0pLnJlZHVjZSgob2JqLCBrZXkpID0+IHtcblx0Ly8gQ2FtZWwtY2FzZVxuXHRjb25zdCBwcm9wID0ga2V5XG5cdFx0LnN1YnN0cmluZyg2KVxuXHRcdC50b0xvd2VyQ2FzZSgpXG5cdFx0LnJlcGxhY2UoL18oW2Etel0pL2csIChfLCBrKSA9PiB7XG5cdFx0XHRyZXR1cm4gay50b1VwcGVyQ2FzZSgpO1xuXHRcdH0pO1xuXG5cdC8vIENvZXJjZSBzdHJpbmcgdmFsdWUgaW50byBKUyB2YWx1ZVxuXHRsZXQgdmFsID0gcHJvY2Vzcy5lbnZba2V5XTtcblx0aWYgKC9eKHllc3xvbnx0cnVlfGVuYWJsZWQpJC9pLnRlc3QodmFsKSkge1xuXHRcdHZhbCA9IHRydWU7XG5cdH0gZWxzZSBpZiAoL14obm98b2ZmfGZhbHNlfGRpc2FibGVkKSQvaS50ZXN0KHZhbCkpIHtcblx0XHR2YWwgPSBmYWxzZTtcblx0fSBlbHNlIGlmICh2YWwgPT09ICdudWxsJykge1xuXHRcdHZhbCA9IG51bGw7XG5cdH0gZWxzZSB7XG5cdFx0dmFsID0gTnVtYmVyKHZhbCk7XG5cdH1cblxuXHRvYmpbcHJvcF0gPSB2YWw7XG5cdHJldHVybiBvYmo7XG59LCB7fSk7XG5cbi8qKlxuICogSXMgc3Rkb3V0IGEgVFRZPyBDb2xvcmVkIG91dHB1dCBpcyBlbmFibGVkIHdoZW4gYHRydWVgLlxuICovXG5cbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcblx0cmV0dXJuICdjb2xvcnMnIGluIGV4cG9ydHMuaW5zcGVjdE9wdHMgP1xuXHRcdEJvb2xlYW4oZXhwb3J0cy5pbnNwZWN0T3B0cy5jb2xvcnMpIDpcblx0XHR0dHkuaXNhdHR5KHByb2Nlc3Muc3RkZXJyLmZkKTtcbn1cblxuLyoqXG4gKiBBZGRzIEFOU0kgY29sb3IgZXNjYXBlIGNvZGVzIGlmIGVuYWJsZWQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBmb3JtYXRBcmdzKGFyZ3MpIHtcblx0Y29uc3Qge25hbWVzcGFjZTogbmFtZSwgdXNlQ29sb3JzfSA9IHRoaXM7XG5cblx0aWYgKHVzZUNvbG9ycykge1xuXHRcdGNvbnN0IGMgPSB0aGlzLmNvbG9yO1xuXHRcdGNvbnN0IGNvbG9yQ29kZSA9ICdcXHUwMDFCWzMnICsgKGMgPCA4ID8gYyA6ICc4OzU7JyArIGMpO1xuXHRcdGNvbnN0IHByZWZpeCA9IGAgICR7Y29sb3JDb2RlfTsxbSR7bmFtZX0gXFx1MDAxQlswbWA7XG5cblx0XHRhcmdzWzBdID0gcHJlZml4ICsgYXJnc1swXS5zcGxpdCgnXFxuJykuam9pbignXFxuJyArIHByZWZpeCk7XG5cdFx0YXJncy5wdXNoKGNvbG9yQ29kZSArICdtKycgKyBtb2R1bGUuZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpICsgJ1xcdTAwMUJbMG0nKTtcblx0fSBlbHNlIHtcblx0XHRhcmdzWzBdID0gZ2V0RGF0ZSgpICsgbmFtZSArICcgJyArIGFyZ3NbMF07XG5cdH1cbn1cblxuZnVuY3Rpb24gZ2V0RGF0ZSgpIHtcblx0aWYgKGV4cG9ydHMuaW5zcGVjdE9wdHMuaGlkZURhdGUpIHtcblx0XHRyZXR1cm4gJyc7XG5cdH1cblx0cmV0dXJuIG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSArICcgJztcbn1cblxuLyoqXG4gKiBJbnZva2VzIGB1dGlsLmZvcm1hdCgpYCB3aXRoIHRoZSBzcGVjaWZpZWQgYXJndW1lbnRzIGFuZCB3cml0ZXMgdG8gc3RkZXJyLlxuICovXG5cbmZ1bmN0aW9uIGxvZyguLi5hcmdzKSB7XG5cdHJldHVybiBwcm9jZXNzLnN0ZGVyci53cml0ZSh1dGlsLmZvcm1hdCguLi5hcmdzKSArICdcXG4nKTtcbn1cblxuLyoqXG4gKiBTYXZlIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNhdmUobmFtZXNwYWNlcykge1xuXHRpZiAobmFtZXNwYWNlcykge1xuXHRcdHByb2Nlc3MuZW52LkRFQlVHID0gbmFtZXNwYWNlcztcblx0fSBlbHNlIHtcblx0XHQvLyBJZiB5b3Ugc2V0IGEgcHJvY2Vzcy5lbnYgZmllbGQgdG8gbnVsbCBvciB1bmRlZmluZWQsIGl0IGdldHMgY2FzdCB0byB0aGVcblx0XHQvLyBzdHJpbmcgJ251bGwnIG9yICd1bmRlZmluZWQnLiBKdXN0IGRlbGV0ZSBpbnN0ZWFkLlxuXHRcdGRlbGV0ZSBwcm9jZXNzLmVudi5ERUJVRztcblx0fVxufVxuXG4vKipcbiAqIExvYWQgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gcmV0dXJucyB0aGUgcHJldmlvdXNseSBwZXJzaXN0ZWQgZGVidWcgbW9kZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvYWQoKSB7XG5cdHJldHVybiBwcm9jZXNzLmVudi5ERUJVRztcbn1cblxuLyoqXG4gKiBJbml0IGxvZ2ljIGZvciBgZGVidWdgIGluc3RhbmNlcy5cbiAqXG4gKiBDcmVhdGUgYSBuZXcgYGluc3BlY3RPcHRzYCBvYmplY3QgaW4gY2FzZSBgdXNlQ29sb3JzYCBpcyBzZXRcbiAqIGRpZmZlcmVudGx5IGZvciBhIHBhcnRpY3VsYXIgYGRlYnVnYCBpbnN0YW5jZS5cbiAqL1xuXG5mdW5jdGlvbiBpbml0KGRlYnVnKSB7XG5cdGRlYnVnLmluc3BlY3RPcHRzID0ge307XG5cblx0Y29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGV4cG9ydHMuaW5zcGVjdE9wdHMpO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcblx0XHRkZWJ1Zy5pbnNwZWN0T3B0c1trZXlzW2ldXSA9IGV4cG9ydHMuaW5zcGVjdE9wdHNba2V5c1tpXV07XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2NvbW1vbicpKGV4cG9ydHMpO1xuXG5jb25zdCB7Zm9ybWF0dGVyc30gPSBtb2R1bGUuZXhwb3J0cztcblxuLyoqXG4gKiBNYXAgJW8gdG8gYHV0aWwuaW5zcGVjdCgpYCwgYWxsIG9uIGEgc2luZ2xlIGxpbmUuXG4gKi9cblxuZm9ybWF0dGVycy5vID0gZnVuY3Rpb24gKHYpIHtcblx0dGhpcy5pbnNwZWN0T3B0cy5jb2xvcnMgPSB0aGlzLnVzZUNvbG9ycztcblx0cmV0dXJuIHV0aWwuaW5zcGVjdCh2LCB0aGlzLmluc3BlY3RPcHRzKVxuXHRcdC5yZXBsYWNlKC9cXHMqXFxuXFxzKi9nLCAnICcpO1xufTtcblxuLyoqXG4gKiBNYXAgJU8gdG8gYHV0aWwuaW5zcGVjdCgpYCwgYWxsb3dpbmcgbXVsdGlwbGUgbGluZXMgaWYgbmVlZGVkLlxuICovXG5cbmZvcm1hdHRlcnMuTyA9IGZ1bmN0aW9uICh2KSB7XG5cdHRoaXMuaW5zcGVjdE9wdHMuY29sb3JzID0gdGhpcy51c2VDb2xvcnM7XG5cdHJldHVybiB1dGlsLmluc3BlY3QodiwgdGhpcy5pbnNwZWN0T3B0cyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuY29uc3Qgb3MgPSByZXF1aXJlKCdvcycpO1xuY29uc3QgaGFzRmxhZyA9IHJlcXVpcmUoJ2hhcy1mbGFnJyk7XG5cbmNvbnN0IHtlbnZ9ID0gcHJvY2VzcztcblxubGV0IGZvcmNlQ29sb3I7XG5pZiAoaGFzRmxhZygnbm8tY29sb3InKSB8fFxuXHRoYXNGbGFnKCduby1jb2xvcnMnKSB8fFxuXHRoYXNGbGFnKCdjb2xvcj1mYWxzZScpIHx8XG5cdGhhc0ZsYWcoJ2NvbG9yPW5ldmVyJykpIHtcblx0Zm9yY2VDb2xvciA9IDA7XG59IGVsc2UgaWYgKGhhc0ZsYWcoJ2NvbG9yJykgfHxcblx0aGFzRmxhZygnY29sb3JzJykgfHxcblx0aGFzRmxhZygnY29sb3I9dHJ1ZScpIHx8XG5cdGhhc0ZsYWcoJ2NvbG9yPWFsd2F5cycpKSB7XG5cdGZvcmNlQ29sb3IgPSAxO1xufVxuaWYgKCdGT1JDRV9DT0xPUicgaW4gZW52KSB7XG5cdGlmIChlbnYuRk9SQ0VfQ09MT1IgPT09IHRydWUgfHwgZW52LkZPUkNFX0NPTE9SID09PSAndHJ1ZScpIHtcblx0XHRmb3JjZUNvbG9yID0gMTtcblx0fSBlbHNlIGlmIChlbnYuRk9SQ0VfQ09MT1IgPT09IGZhbHNlIHx8IGVudi5GT1JDRV9DT0xPUiA9PT0gJ2ZhbHNlJykge1xuXHRcdGZvcmNlQ29sb3IgPSAwO1xuXHR9IGVsc2Uge1xuXHRcdGZvcmNlQ29sb3IgPSBlbnYuRk9SQ0VfQ09MT1IubGVuZ3RoID09PSAwID8gMSA6IE1hdGgubWluKHBhcnNlSW50KGVudi5GT1JDRV9DT0xPUiwgMTApLCAzKTtcblx0fVxufVxuXG5mdW5jdGlvbiB0cmFuc2xhdGVMZXZlbChsZXZlbCkge1xuXHRpZiAobGV2ZWwgPT09IDApIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdGxldmVsLFxuXHRcdGhhc0Jhc2ljOiB0cnVlLFxuXHRcdGhhczI1NjogbGV2ZWwgPj0gMixcblx0XHRoYXMxNm06IGxldmVsID49IDNcblx0fTtcbn1cblxuZnVuY3Rpb24gc3VwcG9ydHNDb2xvcihzdHJlYW0pIHtcblx0aWYgKGZvcmNlQ29sb3IgPT09IDApIHtcblx0XHRyZXR1cm4gMDtcblx0fVxuXG5cdGlmIChoYXNGbGFnKCdjb2xvcj0xNm0nKSB8fFxuXHRcdGhhc0ZsYWcoJ2NvbG9yPWZ1bGwnKSB8fFxuXHRcdGhhc0ZsYWcoJ2NvbG9yPXRydWVjb2xvcicpKSB7XG5cdFx0cmV0dXJuIDM7XG5cdH1cblxuXHRpZiAoaGFzRmxhZygnY29sb3I9MjU2JykpIHtcblx0XHRyZXR1cm4gMjtcblx0fVxuXG5cdGlmIChzdHJlYW0gJiYgIXN0cmVhbS5pc1RUWSAmJiBmb3JjZUNvbG9yID09PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gMDtcblx0fVxuXG5cdGNvbnN0IG1pbiA9IGZvcmNlQ29sb3IgfHwgMDtcblxuXHRpZiAoZW52LlRFUk0gPT09ICdkdW1iJykge1xuXHRcdHJldHVybiBtaW47XG5cdH1cblxuXHRpZiAocHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ3dpbjMyJykge1xuXHRcdC8vIE5vZGUuanMgNy41LjAgaXMgdGhlIGZpcnN0IHZlcnNpb24gb2YgTm9kZS5qcyB0byBpbmNsdWRlIGEgcGF0Y2ggdG9cblx0XHQvLyBsaWJ1diB0aGF0IGVuYWJsZXMgMjU2IGNvbG9yIG91dHB1dCBvbiBXaW5kb3dzLiBBbnl0aGluZyBlYXJsaWVyIGFuZCBpdFxuXHRcdC8vIHdvbid0IHdvcmsuIEhvd2V2ZXIsIGhlcmUgd2UgdGFyZ2V0IE5vZGUuanMgOCBhdCBtaW5pbXVtIGFzIGl0IGlzIGFuIExUU1xuXHRcdC8vIHJlbGVhc2UsIGFuZCBOb2RlLmpzIDcgaXMgbm90LiBXaW5kb3dzIDEwIGJ1aWxkIDEwNTg2IGlzIHRoZSBmaXJzdCBXaW5kb3dzXG5cdFx0Ly8gcmVsZWFzZSB0aGF0IHN1cHBvcnRzIDI1NiBjb2xvcnMuIFdpbmRvd3MgMTAgYnVpbGQgMTQ5MzEgaXMgdGhlIGZpcnN0IHJlbGVhc2Vcblx0XHQvLyB0aGF0IHN1cHBvcnRzIDE2bS9UcnVlQ29sb3IuXG5cdFx0Y29uc3Qgb3NSZWxlYXNlID0gb3MucmVsZWFzZSgpLnNwbGl0KCcuJyk7XG5cdFx0aWYgKFxuXHRcdFx0TnVtYmVyKHByb2Nlc3MudmVyc2lvbnMubm9kZS5zcGxpdCgnLicpWzBdKSA+PSA4ICYmXG5cdFx0XHROdW1iZXIob3NSZWxlYXNlWzBdKSA+PSAxMCAmJlxuXHRcdFx0TnVtYmVyKG9zUmVsZWFzZVsyXSkgPj0gMTA1ODZcblx0XHQpIHtcblx0XHRcdHJldHVybiBOdW1iZXIob3NSZWxlYXNlWzJdKSA+PSAxNDkzMSA/IDMgOiAyO1xuXHRcdH1cblxuXHRcdHJldHVybiAxO1xuXHR9XG5cblx0aWYgKCdDSScgaW4gZW52KSB7XG5cdFx0aWYgKFsnVFJBVklTJywgJ0NJUkNMRUNJJywgJ0FQUFZFWU9SJywgJ0dJVExBQl9DSSddLnNvbWUoc2lnbiA9PiBzaWduIGluIGVudikgfHwgZW52LkNJX05BTUUgPT09ICdjb2Rlc2hpcCcpIHtcblx0XHRcdHJldHVybiAxO1xuXHRcdH1cblxuXHRcdHJldHVybiBtaW47XG5cdH1cblxuXHRpZiAoJ1RFQU1DSVRZX1ZFUlNJT04nIGluIGVudikge1xuXHRcdHJldHVybiAvXig5XFwuKDAqWzEtOV1cXGQqKVxcLnxcXGR7Mix9XFwuKS8udGVzdChlbnYuVEVBTUNJVFlfVkVSU0lPTikgPyAxIDogMDtcblx0fVxuXG5cdGlmIChlbnYuQ09MT1JURVJNID09PSAndHJ1ZWNvbG9yJykge1xuXHRcdHJldHVybiAzO1xuXHR9XG5cblx0aWYgKCdURVJNX1BST0dSQU0nIGluIGVudikge1xuXHRcdGNvbnN0IHZlcnNpb24gPSBwYXJzZUludCgoZW52LlRFUk1fUFJPR1JBTV9WRVJTSU9OIHx8ICcnKS5zcGxpdCgnLicpWzBdLCAxMCk7XG5cblx0XHRzd2l0Y2ggKGVudi5URVJNX1BST0dSQU0pIHtcblx0XHRcdGNhc2UgJ2lUZXJtLmFwcCc6XG5cdFx0XHRcdHJldHVybiB2ZXJzaW9uID49IDMgPyAzIDogMjtcblx0XHRcdGNhc2UgJ0FwcGxlX1Rlcm1pbmFsJzpcblx0XHRcdFx0cmV0dXJuIDI7XG5cdFx0XHQvLyBObyBkZWZhdWx0XG5cdFx0fVxuXHR9XG5cblx0aWYgKC8tMjU2KGNvbG9yKT8kL2kudGVzdChlbnYuVEVSTSkpIHtcblx0XHRyZXR1cm4gMjtcblx0fVxuXG5cdGlmICgvXnNjcmVlbnxeeHRlcm18XnZ0MTAwfF52dDIyMHxecnh2dHxjb2xvcnxhbnNpfGN5Z3dpbnxsaW51eC9pLnRlc3QoZW52LlRFUk0pKSB7XG5cdFx0cmV0dXJuIDE7XG5cdH1cblxuXHRpZiAoJ0NPTE9SVEVSTScgaW4gZW52KSB7XG5cdFx0cmV0dXJuIDE7XG5cdH1cblxuXHRyZXR1cm4gbWluO1xufVxuXG5mdW5jdGlvbiBnZXRTdXBwb3J0TGV2ZWwoc3RyZWFtKSB7XG5cdGNvbnN0IGxldmVsID0gc3VwcG9ydHNDb2xvcihzdHJlYW0pO1xuXHRyZXR1cm4gdHJhbnNsYXRlTGV2ZWwobGV2ZWwpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0c3VwcG9ydHNDb2xvcjogZ2V0U3VwcG9ydExldmVsLFxuXHRzdGRvdXQ6IGdldFN1cHBvcnRMZXZlbChwcm9jZXNzLnN0ZG91dCksXG5cdHN0ZGVycjogZ2V0U3VwcG9ydExldmVsKHByb2Nlc3Muc3RkZXJyKVxufTtcbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gKGZsYWcsIGFyZ3YpID0+IHtcblx0YXJndiA9IGFyZ3YgfHwgcHJvY2Vzcy5hcmd2O1xuXHRjb25zdCBwcmVmaXggPSBmbGFnLnN0YXJ0c1dpdGgoJy0nKSA/ICcnIDogKGZsYWcubGVuZ3RoID09PSAxID8gJy0nIDogJy0tJyk7XG5cdGNvbnN0IHBvcyA9IGFyZ3YuaW5kZXhPZihwcmVmaXggKyBmbGFnKTtcblx0Y29uc3QgdGVybWluYXRvclBvcyA9IGFyZ3YuaW5kZXhPZignLS0nKTtcblx0cmV0dXJuIHBvcyAhPT0gLTEgJiYgKHRlcm1pbmF0b3JQb3MgPT09IC0xID8gdHJ1ZSA6IHBvcyA8IHRlcm1pbmF0b3JQb3MpO1xufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=